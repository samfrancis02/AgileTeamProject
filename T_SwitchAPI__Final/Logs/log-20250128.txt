2025-01-28 00:02:08.450 +00:00 [INF] Now listening on: http://localhost:5037
2025-01-28 00:02:08.564 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-28 00:02:08.567 +00:00 [INF] Hosting environment: Development
2025-01-28 00:02:08.568 +00:00 [INF] Content root path: C:\Users\daniy\source\repos\atmapp
2025-01-28 00:02:08.975 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.html - null null
2025-01-28 00:02:09.196 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.html - 200 null text/html;charset=utf-8 228.8591ms
2025-01-28 00:02:09.242 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_vs/browserLink - null null
2025-01-28 00:02:09.242 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - null null
2025-01-28 00:02:09.242 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.js - null null
2025-01-28 00:02:09.252 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 13.3994ms
2025-01-28 00:02:09.319 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.js - 200 null application/javascript;charset=utf-8 76.0615ms
2025-01-28 00:02:09.348 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_vs/browserLink - 200 null text/javascript; charset=UTF-8 106.6449ms
2025-01-28 00:02:09.434 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - null null
2025-01-28 00:02:09.444 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.2147ms
2025-01-28 00:02:27.159 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 141
2025-01-28 00:02:27.183 +00:00 [WRN] Failed to determine the https port for redirect.
2025-01-28 00:02:27.195 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 00:02:27.260 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 00:02:27.802 +00:00 [INF] Processing withdrawal transaction 123456 for CardNumber: 4111********4444
2025-01-28 00:02:30.760 +00:00 [INF] Executed DbCommand (119ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 00:02:30.864 +00:00 [ERR] An exception occurred while iterating over the results of a query for context type 'atmapp.Data.TransactionDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at Microsoft.Data.SqlClient.SqlDataReader.GetDouble(Int32 i)
   at lambda_method24(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at Microsoft.Data.SqlClient.SqlDataReader.GetDouble(Int32 i)
   at lambda_method24(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2025-01-28 00:06:18.580 +00:00 [INF] Now listening on: http://localhost:5037
2025-01-28 00:06:18.675 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-28 00:06:18.677 +00:00 [INF] Hosting environment: Development
2025-01-28 00:06:18.679 +00:00 [INF] Content root path: C:\Users\daniy\source\repos\atmapp
2025-01-28 00:06:19.272 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.html - null null
2025-01-28 00:06:19.461 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.html - 200 null text/html;charset=utf-8 197.8024ms
2025-01-28 00:06:19.497 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - null null
2025-01-28 00:06:19.497 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.js - null null
2025-01-28 00:06:19.497 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_vs/browserLink - null null
2025-01-28 00:06:19.504 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 8.1258ms
2025-01-28 00:06:19.506 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.js - 200 null application/javascript;charset=utf-8 9.2999ms
2025-01-28 00:06:19.539 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_vs/browserLink - 200 null text/javascript; charset=UTF-8 41.3505ms
2025-01-28 00:06:19.649 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - null null
2025-01-28 00:06:19.660 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.7527ms
2025-01-28 00:06:38.453 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 141
2025-01-28 00:06:38.478 +00:00 [WRN] Failed to determine the https port for redirect.
2025-01-28 00:06:38.488 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 00:06:38.554 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 00:06:39.072 +00:00 [INF] Processing withdrawal transaction 123456 for CardNumber: 4111********4444
2025-01-28 00:06:41.937 +00:00 [INF] Executed DbCommand (93ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 00:06:42.033 +00:00 [ERR] An exception occurred while iterating over the results of a query for context type 'atmapp.Data.TransactionDbContext'.
System.InvalidCastException: Unable to cast object of type 'System.Decimal' to type 'System.Double'.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at Microsoft.Data.SqlClient.SqlDataReader.GetDouble(Int32 i)
   at lambda_method24(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
System.InvalidCastException: Unable to cast object of type 'System.Decimal' to type 'System.Double'.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at Microsoft.Data.SqlClient.SqlDataReader.GetDouble(Int32 i)
   at lambda_method24(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2025-01-28 00:07:42.667 +00:00 [INF] Now listening on: http://localhost:5037
2025-01-28 00:07:42.750 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-28 00:07:42.751 +00:00 [INF] Hosting environment: Development
2025-01-28 00:07:42.753 +00:00 [INF] Content root path: C:\Users\daniy\source\repos\atmapp
2025-01-28 00:07:43.342 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.html - null null
2025-01-28 00:07:43.527 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.html - 200 null text/html;charset=utf-8 192.7329ms
2025-01-28 00:07:43.562 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - null null
2025-01-28 00:07:43.563 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.js - null null
2025-01-28 00:07:43.564 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_vs/browserLink - null null
2025-01-28 00:07:43.569 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 8.1516ms
2025-01-28 00:07:43.572 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.js - 200 null application/javascript;charset=utf-8 8.8025ms
2025-01-28 00:07:43.600 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_vs/browserLink - 200 null text/javascript; charset=UTF-8 36.4335ms
2025-01-28 00:07:43.703 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - null null
2025-01-28 00:07:43.711 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.1452ms
2025-01-28 00:07:59.674 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 141
2025-01-28 00:07:59.699 +00:00 [WRN] Failed to determine the https port for redirect.
2025-01-28 00:07:59.709 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 00:07:59.773 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 00:08:00.314 +00:00 [INF] Processing withdrawal transaction 123456 for CardNumber: 4111********4444
2025-01-28 00:08:03.165 +00:00 [INF] Executed DbCommand (103ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 00:08:03.269 +00:00 [ERR] An exception occurred while iterating over the results of a query for context type 'atmapp.Data.TransactionDbContext'.
System.InvalidCastException: Unable to cast object of type 'System.Decimal' to type 'System.Double'.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at Microsoft.Data.SqlClient.SqlDataReader.GetDouble(Int32 i)
   at lambda_method24(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
System.InvalidCastException: Unable to cast object of type 'System.Decimal' to type 'System.Double'.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at Microsoft.Data.SqlClient.SqlDataReader.GetDouble(Int32 i)
   at lambda_method24(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2025-01-28 00:19:36.894 +00:00 [INF] Now listening on: http://localhost:5037
2025-01-28 00:19:36.992 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-28 00:19:36.994 +00:00 [INF] Hosting environment: Development
2025-01-28 00:19:36.995 +00:00 [INF] Content root path: C:\Users\daniy\source\repos\atmapp
2025-01-28 00:19:37.705 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.html - null null
2025-01-28 00:19:37.916 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.html - 200 null text/html;charset=utf-8 216.7649ms
2025-01-28 00:19:37.989 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - null null
2025-01-28 00:19:37.991 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_vs/browserLink - null null
2025-01-28 00:19:37.991 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.js - null null
2025-01-28 00:19:37.996 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 8.1747ms
2025-01-28 00:19:38.002 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.js - 200 null application/javascript;charset=utf-8 11.897ms
2025-01-28 00:19:38.029 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_vs/browserLink - 200 null text/javascript; charset=UTF-8 38.2921ms
2025-01-28 00:19:38.178 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - null null
2025-01-28 00:19:38.195 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.7831ms
2025-01-28 00:22:12.617 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 140
2025-01-28 00:22:12.667 +00:00 [WRN] Failed to determine the https port for redirect.
2025-01-28 00:22:12.680 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 00:22:12.748 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 00:22:13.342 +00:00 [INF] Processing withdrawal transaction 123456 for CardNumber: 4111********4444
2025-01-28 00:22:14.360 +00:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'MasterCard'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-28 00:22:14.364 +00:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'VisaCard'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-28 00:22:16.377 +00:00 [INF] Executed DbCommand (125ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 00:22:16.483 +00:00 [ERR] An exception occurred while iterating over the results of a query for context type 'atmapp.Data.TransactionDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at Microsoft.Data.SqlClient.SqlDataReader.GetDouble(Int32 i)
   at lambda_method24(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at Microsoft.Data.SqlClient.SqlDataReader.GetDouble(Int32 i)
   at lambda_method24(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2025-01-28 00:27:07.965 +00:00 [INF] Now listening on: http://localhost:5037
2025-01-28 00:27:08.046 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-28 00:27:08.049 +00:00 [INF] Hosting environment: Development
2025-01-28 00:27:08.050 +00:00 [INF] Content root path: C:\Users\daniy\source\repos\atmapp
2025-01-28 00:27:08.587 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.html - null null
2025-01-28 00:27:08.784 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.html - 200 null text/html;charset=utf-8 206.7692ms
2025-01-28 00:27:08.810 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.js - null null
2025-01-28 00:27:08.816 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - null null
2025-01-28 00:27:08.818 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_vs/browserLink - null null
2025-01-28 00:27:08.826 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.js - 200 null application/javascript;charset=utf-8 16.2571ms
2025-01-28 00:27:08.832 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 15.8413ms
2025-01-28 00:27:08.869 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_vs/browserLink - 200 null text/javascript; charset=UTF-8 51.962ms
2025-01-28 00:27:08.997 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - null null
2025-01-28 00:27:09.012 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.1695ms
2025-01-28 00:27:23.044 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 140
2025-01-28 00:27:23.069 +00:00 [WRN] Failed to determine the https port for redirect.
2025-01-28 00:27:23.081 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 00:27:23.154 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 00:27:23.720 +00:00 [INF] Processing withdrawal transaction 123456 for CardNumber: 4111********4444
2025-01-28 00:27:24.923 +00:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'MasterCard'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-28 00:27:24.929 +00:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'VisaCard'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-28 00:27:26.965 +00:00 [INF] Executed DbCommand (116ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 00:27:27.085 +00:00 [ERR] An exception occurred while iterating over the results of a query for context type 'atmapp.Data.TransactionDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at Microsoft.Data.SqlClient.SqlDataReader.GetDouble(Int32 i)
   at lambda_method24(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at Microsoft.Data.SqlClient.SqlDataReader.GetDouble(Int32 i)
   at lambda_method24(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2025-01-28 00:38:30.147 +00:00 [INF] Now listening on: http://localhost:5037
2025-01-28 00:38:30.240 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-28 00:38:30.243 +00:00 [INF] Hosting environment: Development
2025-01-28 00:38:30.245 +00:00 [INF] Content root path: C:\Users\daniy\source\repos\atmapp
2025-01-28 00:38:31.258 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.html - null null
2025-01-28 00:38:31.442 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.html - 200 null text/html;charset=utf-8 188.8449ms
2025-01-28 00:38:31.479 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - null null
2025-01-28 00:38:31.479 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_vs/browserLink - null null
2025-01-28 00:38:31.479 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.js - null null
2025-01-28 00:38:31.485 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 6.8831ms
2025-01-28 00:38:31.502 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.js - 200 null application/javascript;charset=utf-8 23.8574ms
2025-01-28 00:38:31.533 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_vs/browserLink - 200 null text/javascript; charset=UTF-8 53.5395ms
2025-01-28 00:38:31.640 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - null null
2025-01-28 00:38:31.652 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.3241ms
2025-01-28 00:38:58.622 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 140
2025-01-28 00:38:58.646 +00:00 [WRN] Failed to determine the https port for redirect.
2025-01-28 00:38:58.659 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 00:38:58.722 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 00:38:59.242 +00:00 [INF] Processing withdrawal transaction 123456 for CardNumber: 4111********4444
2025-01-28 00:39:00.321 +00:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'MasterCard'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-28 00:39:00.328 +00:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'VisaCard'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-28 00:39:02.260 +00:00 [INF] Executed DbCommand (108ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 00:39:02.376 +00:00 [ERR] An exception occurred while iterating over the results of a query for context type 'atmapp.Data.TransactionDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at Microsoft.Data.SqlClient.SqlDataReader.GetDouble(Int32 i)
   at lambda_method24(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at Microsoft.Data.SqlClient.SqlDataReader.GetDouble(Int32 i)
   at lambda_method24(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2025-01-28 00:42:45.582 +00:00 [INF] Now listening on: http://localhost:5037
2025-01-28 00:42:45.687 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-28 00:42:45.689 +00:00 [INF] Hosting environment: Development
2025-01-28 00:42:45.691 +00:00 [INF] Content root path: C:\Users\daniy\source\repos\atmapp
2025-01-28 00:42:46.414 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.html - null null
2025-01-28 00:42:46.604 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.html - 200 null text/html;charset=utf-8 195.2682ms
2025-01-28 00:42:46.638 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - null null
2025-01-28 00:42:46.638 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.js - null null
2025-01-28 00:42:46.638 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_vs/browserLink - null null
2025-01-28 00:42:46.645 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 8.0097ms
2025-01-28 00:42:46.653 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.js - 200 null application/javascript;charset=utf-8 15.895ms
2025-01-28 00:42:46.688 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.8684ms
2025-01-28 00:42:46.805 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - null null
2025-01-28 00:42:46.817 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.9535ms
2025-01-28 00:43:10.042 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 140
2025-01-28 00:43:10.081 +00:00 [WRN] Failed to determine the https port for redirect.
2025-01-28 00:43:10.094 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 00:43:10.164 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 00:43:10.698 +00:00 [INF] Processing withdrawal transaction 123456 for CardNumber: 4111********4444
2025-01-28 00:43:11.749 +00:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'MasterCard'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-28 00:43:11.752 +00:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'VisaCard'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-28 00:43:13.666 +00:00 [INF] Executed DbCommand (98ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 00:43:13.755 +00:00 [ERR] An exception occurred while iterating over the results of a query for context type 'atmapp.Data.TransactionDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at Microsoft.Data.SqlClient.SqlDataReader.GetDouble(Int32 i)
   at lambda_method24(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at Microsoft.Data.SqlClient.SqlDataReader.GetDouble(Int32 i)
   at lambda_method24(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2025-01-28 00:54:52.889 +00:00 [INF] Now listening on: http://localhost:5037
2025-01-28 00:54:52.972 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-28 00:54:52.974 +00:00 [INF] Hosting environment: Development
2025-01-28 00:54:52.976 +00:00 [INF] Content root path: C:\Users\daniy\source\repos\atmapp
2025-01-28 00:54:53.588 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.html - null null
2025-01-28 00:54:53.772 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.html - 200 null text/html;charset=utf-8 191.5748ms
2025-01-28 00:54:53.836 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.js - null null
2025-01-28 00:54:53.836 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - null null
2025-01-28 00:54:53.836 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_vs/browserLink - null null
2025-01-28 00:54:53.842 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.js - 200 null application/javascript;charset=utf-8 7.4646ms
2025-01-28 00:54:53.847 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 12.0152ms
2025-01-28 00:54:53.891 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_vs/browserLink - 200 null text/javascript; charset=UTF-8 55.2579ms
2025-01-28 00:54:54.010 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - null null
2025-01-28 00:54:54.025 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.2741ms
2025-01-28 00:55:14.351 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 140
2025-01-28 00:55:14.374 +00:00 [WRN] Failed to determine the https port for redirect.
2025-01-28 00:55:14.388 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 00:55:14.449 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 00:55:14.983 +00:00 [INF] Processing withdrawal transaction 123456 for CardNumber: 4111********4444
2025-01-28 00:55:16.004 +00:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'MasterCard'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-28 00:55:16.010 +00:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'VisaCard'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-28 00:55:17.910 +00:00 [INF] Executed DbCommand (108ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 00:55:18.014 +00:00 [ERR] An exception occurred while iterating over the results of a query for context type 'atmapp.Data.TransactionDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at Microsoft.Data.SqlClient.SqlDataReader.GetDouble(Int32 i)
   at lambda_method24(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at Microsoft.Data.SqlClient.SqlDataReader.GetDouble(Int32 i)
   at lambda_method24(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2025-01-28 01:03:35.056 +00:00 [INF] Now listening on: http://localhost:5037
2025-01-28 01:03:35.147 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-28 01:03:35.148 +00:00 [INF] Hosting environment: Development
2025-01-28 01:03:35.150 +00:00 [INF] Content root path: C:\Users\daniy\source\repos\atmapp
2025-01-28 01:03:36.157 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.html - null null
2025-01-28 01:03:36.337 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.html - 200 null text/html;charset=utf-8 185.6222ms
2025-01-28 01:03:36.394 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - null null
2025-01-28 01:03:36.394 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.js - null null
2025-01-28 01:03:36.394 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_vs/browserLink - null null
2025-01-28 01:03:36.399 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 6.3665ms
2025-01-28 01:03:36.402 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.js - 200 null application/javascript;charset=utf-8 8.8179ms
2025-01-28 01:03:36.433 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_vs/browserLink - 200 null text/javascript; charset=UTF-8 38.531ms
2025-01-28 01:03:36.542 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - null null
2025-01-28 01:03:36.559 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 17.199ms
2025-01-28 01:03:54.928 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 140
2025-01-28 01:03:54.952 +00:00 [WRN] Failed to determine the https port for redirect.
2025-01-28 01:03:54.963 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 01:03:55.029 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 01:03:55.545 +00:00 [INF] Processing withdrawal transaction 123456 for CardNumber: 4111********4444
2025-01-28 01:03:56.558 +00:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'MasterCard'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-28 01:03:56.563 +00:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'VisaCard'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-28 01:03:58.407 +00:00 [INF] Executed DbCommand (98ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 01:03:58.507 +00:00 [ERR] An exception occurred while iterating over the results of a query for context type 'atmapp.Data.TransactionDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at Microsoft.Data.SqlClient.SqlDataReader.GetDouble(Int32 i)
   at lambda_method24(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at Microsoft.Data.SqlClient.SqlDataReader.GetDouble(Int32 i)
   at lambda_method24(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2025-01-28 01:05:34.204 +00:00 [INF] Now listening on: http://localhost:5037
2025-01-28 01:05:34.300 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-28 01:05:34.303 +00:00 [INF] Hosting environment: Development
2025-01-28 01:05:34.304 +00:00 [INF] Content root path: C:\Users\daniy\source\repos\atmapp
2025-01-28 01:05:34.984 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.html - null null
2025-01-28 01:05:35.174 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.html - 200 null text/html;charset=utf-8 196.1841ms
2025-01-28 01:05:35.212 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_vs/browserLink - null null
2025-01-28 01:05:35.212 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.js - null null
2025-01-28 01:05:35.212 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - null null
2025-01-28 01:05:35.229 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.js - 200 null application/javascript;charset=utf-8 23.2351ms
2025-01-28 01:05:35.241 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 35.7371ms
2025-01-28 01:05:35.260 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_vs/browserLink - 200 null text/javascript; charset=UTF-8 54.5138ms
2025-01-28 01:05:35.475 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - null null
2025-01-28 01:05:35.484 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.941ms
2025-01-28 01:06:24.365 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 141
2025-01-28 01:06:24.390 +00:00 [WRN] Failed to determine the https port for redirect.
2025-01-28 01:06:24.401 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 01:06:24.468 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 01:06:25.006 +00:00 [INF] Processing withdrawal transaction 123456 for CardNumber: 4111********4444
2025-01-28 01:06:25.960 +00:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'MasterCard'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-28 01:06:25.969 +00:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'VisaCard'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-28 01:06:27.829 +00:00 [INF] Executed DbCommand (104ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 01:06:27.933 +00:00 [ERR] An exception occurred while iterating over the results of a query for context type 'atmapp.Data.TransactionDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at Microsoft.Data.SqlClient.SqlDataReader.GetDouble(Int32 i)
   at lambda_method24(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at Microsoft.Data.SqlClient.SqlDataReader.GetDouble(Int32 i)
   at lambda_method24(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2025-01-28 01:11:59.860 +00:00 [INF] Now listening on: http://localhost:5037
2025-01-28 01:11:59.942 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-28 01:11:59.944 +00:00 [INF] Hosting environment: Development
2025-01-28 01:11:59.946 +00:00 [INF] Content root path: C:\Users\daniy\source\repos\atmapp
2025-01-28 01:12:00.988 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.html - null null
2025-01-28 01:12:01.206 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.html - 200 null text/html;charset=utf-8 226.7905ms
2025-01-28 01:12:01.253 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - null null
2025-01-28 01:12:01.254 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.js - null null
2025-01-28 01:12:01.254 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_vs/browserLink - null null
2025-01-28 01:12:01.260 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 7.2612ms
2025-01-28 01:12:01.263 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.js - 200 null application/javascript;charset=utf-8 8.4824ms
2025-01-28 01:12:01.303 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.9131ms
2025-01-28 01:12:01.438 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - null null
2025-01-28 01:12:01.448 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.7191ms
2025-01-28 01:12:16.347 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 140
2025-01-28 01:12:16.373 +00:00 [WRN] Failed to determine the https port for redirect.
2025-01-28 01:12:16.386 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 01:12:16.449 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 01:12:16.992 +00:00 [INF] Processing withdrawal transaction 123456 for CardNumber: 4111********4444
2025-01-28 01:12:18.035 +00:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'MasterCard'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-28 01:12:18.046 +00:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'VisaCard'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-28 01:12:19.933 +00:00 [INF] Executed DbCommand (104ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 01:12:20.029 +00:00 [ERR] An exception occurred while iterating over the results of a query for context type 'atmapp.Data.TransactionDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at Microsoft.Data.SqlClient.SqlDataReader.GetDouble(Int32 i)
   at lambda_method24(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at Microsoft.Data.SqlClient.SqlDataReader.GetDouble(Int32 i)
   at lambda_method24(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2025-01-28 01:13:05.630 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 49165.3658ms
2025-01-28 01:13:05.644 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 01:13:05.651 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at Microsoft.Data.SqlClient.SqlDataReader.GetDouble(Int32 i)
   at lambda_method24(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetSingle[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method22(Closure, QueryContext)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)
   at atmapp.Controllers.atmAPIController.ProcessTransaction(TransactionRequest request) in C:\Users\daniy\source\repos\atmapp\Controllers\atmAPIController.cs:line 137
   at lambda_method2(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-01-28 01:13:05.745 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 500 null text/plain; charset=utf-8 49398.6445ms
2025-01-28 01:14:43.151 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 140
2025-01-28 01:14:43.167 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 01:14:43.171 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 01:14:43.199 +00:00 [INF] Processing withdrawal transaction 123456 for CardNumber: 5222********7788
2025-01-28 01:14:43.323 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[CardNumber], [m].[Balance], [m].[CardHolderName], [m].[DailyLimit], [m].[DailyWithdrawn], [m].[ExpirationDate], [m].[FailedAttempts], [m].[HashedPIN], [m].[LockoutUntil], [m].[TransactionLimit]
FROM [MasterCards] AS [m]
WHERE [m].[CardNumber] = @__request_CardNumber_0
2025-01-28 01:14:43.348 +00:00 [ERR] An exception occurred while iterating over the results of a query for context type 'atmapp.Data.TransactionDbContext'.
System.InvalidCastException: Unable to cast object of type 'System.Double' to type 'System.Decimal'.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Decimal()
   at Microsoft.Data.SqlClient.SqlDataReader.GetDecimal(Int32 i)
   at lambda_method39(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
System.InvalidCastException: Unable to cast object of type 'System.Double' to type 'System.Decimal'.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Decimal()
   at Microsoft.Data.SqlClient.SqlDataReader.GetDecimal(Int32 i)
   at lambda_method39(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2025-01-28 01:16:06.912 +00:00 [INF] Now listening on: http://localhost:5037
2025-01-28 01:16:07.001 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-28 01:16:07.003 +00:00 [INF] Hosting environment: Development
2025-01-28 01:16:07.004 +00:00 [INF] Content root path: C:\Users\daniy\source\repos\atmapp
2025-01-28 01:16:07.485 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.html - null null
2025-01-28 01:16:07.725 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.html - 200 null text/html;charset=utf-8 247.1359ms
2025-01-28 01:16:07.772 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.js - null null
2025-01-28 01:16:07.772 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - null null
2025-01-28 01:16:07.781 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.js - 200 null application/javascript;charset=utf-8 9.0631ms
2025-01-28 01:16:07.783 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_vs/browserLink - null null
2025-01-28 01:16:07.791 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 19.2843ms
2025-01-28 01:16:07.839 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_vs/browserLink - 200 null text/javascript; charset=UTF-8 57.232ms
2025-01-28 01:16:07.967 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - null null
2025-01-28 01:16:07.979 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.5155ms
2025-01-28 01:16:37.885 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 140
2025-01-28 01:16:37.908 +00:00 [WRN] Failed to determine the https port for redirect.
2025-01-28 01:16:37.918 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 01:16:37.982 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 01:16:38.466 +00:00 [INF] Processing withdrawal transaction 123456 for CardNumber: 4111********4444
2025-01-28 01:16:39.498 +00:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'MasterCard'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-28 01:16:39.503 +00:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'VisaCard'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-28 01:16:41.365 +00:00 [INF] Executed DbCommand (104ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 01:16:41.476 +00:00 [ERR] An exception occurred while iterating over the results of a query for context type 'atmapp.Data.TransactionDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at Microsoft.Data.SqlClient.SqlDataReader.GetDouble(Int32 i)
   at lambda_method24(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at Microsoft.Data.SqlClient.SqlDataReader.GetDouble(Int32 i)
   at lambda_method24(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2025-01-28 01:41:20.407 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 1482409.2897ms
2025-01-28 01:41:20.415 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 01:41:20.422 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at Microsoft.Data.SqlClient.SqlDataReader.GetDouble(Int32 i)
   at lambda_method24(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetSingle[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method22(Closure, QueryContext)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)
   at atmapp.Controllers.atmAPIController.ProcessTransaction(TransactionRequest request)
   at lambda_method2(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-01-28 01:41:20.483 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 500 null text/plain; charset=utf-8 1482598.3753ms
2025-01-28 01:41:25.634 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 140
2025-01-28 01:41:25.644 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 01:41:25.647 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 01:41:25.660 +00:00 [INF] Processing withdrawal transaction 123456 for CardNumber: 4111********4444
2025-01-28 01:41:25.729 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 01:41:25.739 +00:00 [ERR] An exception occurred while iterating over the results of a query for context type 'atmapp.Data.TransactionDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at Microsoft.Data.SqlClient.SqlDataReader.GetDouble(Int32 i)
   at lambda_method24(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at Microsoft.Data.SqlClient.SqlDataReader.GetDouble(Int32 i)
   at lambda_method24(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2025-01-28 01:41:34.749 +00:00 [INF] Now listening on: http://localhost:5037
2025-01-28 01:41:34.828 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-28 01:41:34.831 +00:00 [INF] Hosting environment: Development
2025-01-28 01:41:34.832 +00:00 [INF] Content root path: C:\Users\daniy\source\repos\atmapp
2025-01-28 01:41:35.448 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.html - null null
2025-01-28 01:41:35.659 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.html - 200 null text/html;charset=utf-8 219.652ms
2025-01-28 01:41:35.744 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - null null
2025-01-28 01:41:35.744 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_vs/browserLink - null null
2025-01-28 01:41:35.744 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.js - null null
2025-01-28 01:41:35.750 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 7.6877ms
2025-01-28 01:41:35.838 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.js - 200 null application/javascript;charset=utf-8 94.7284ms
2025-01-28 01:41:35.869 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_vs/browserLink - 200 null text/javascript; charset=UTF-8 125.6023ms
2025-01-28 01:41:35.977 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - null null
2025-01-28 01:41:35.990 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.3105ms
2025-01-28 01:41:52.275 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 140
2025-01-28 01:41:52.300 +00:00 [WRN] Failed to determine the https port for redirect.
2025-01-28 01:41:52.312 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 01:41:52.375 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 01:41:52.894 +00:00 [INF] Processing withdrawal transaction 123456 for CardNumber: 4111********4444
2025-01-28 01:41:53.902 +00:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'MasterCard'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-28 01:41:53.914 +00:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'VisaCard'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-28 01:41:55.889 +00:00 [INF] Executed DbCommand (116ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 01:41:56.006 +00:00 [ERR] An exception occurred while iterating over the results of a query for context type 'atmapp.Data.TransactionDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at Microsoft.Data.SqlClient.SqlDataReader.GetDouble(Int32 i)
   at lambda_method24(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_Double()
   at Microsoft.Data.SqlClient.SqlDataReader.GetDouble(Int32 i)
   at lambda_method24(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2025-01-28 02:12:19.813 +00:00 [INF] Now listening on: http://localhost:5037
2025-01-28 02:12:19.898 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-28 02:12:19.900 +00:00 [INF] Hosting environment: Development
2025-01-28 02:12:19.902 +00:00 [INF] Content root path: C:\Users\daniy\source\repos\atmapp
2025-01-28 02:12:20.306 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.html - null null
2025-01-28 02:12:20.529 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.html - 200 null text/html;charset=utf-8 236.7476ms
2025-01-28 02:12:20.628 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.js - null null
2025-01-28 02:12:20.628 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_vs/browserLink - null null
2025-01-28 02:12:20.628 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - null null
2025-01-28 02:12:20.635 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.js - 200 null application/javascript;charset=utf-8 12.0683ms
2025-01-28 02:12:20.656 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 32.6983ms
2025-01-28 02:12:20.678 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_vs/browserLink - 200 null text/javascript; charset=UTF-8 54.7427ms
2025-01-28 02:12:20.806 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - null null
2025-01-28 02:12:20.818 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.0117ms
2025-01-28 02:25:41.709 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 140
2025-01-28 02:25:41.737 +00:00 [WRN] Failed to determine the https port for redirect.
2025-01-28 02:25:41.746 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 02:25:41.830 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 02:25:42.452 +00:00 [INF] Processing withdrawal transaction 123456 for CardNumber: 4111********4444
2025-01-28 02:25:43.514 +00:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'MasterCard'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-28 02:25:43.523 +00:00 [WRN] No store type was specified for the decimal property 'DailyLimit' on entity type 'MasterCard'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-28 02:25:43.534 +00:00 [WRN] No store type was specified for the decimal property 'DailyWithdrawn' on entity type 'MasterCard'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-28 02:25:43.538 +00:00 [WRN] No store type was specified for the decimal property 'TransactionLimit' on entity type 'MasterCard'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-28 02:25:43.545 +00:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'VisaCard'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-28 02:25:43.548 +00:00 [WRN] No store type was specified for the decimal property 'DailyLimit' on entity type 'VisaCard'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-28 02:25:43.552 +00:00 [WRN] No store type was specified for the decimal property 'DailyWithdrawn' on entity type 'VisaCard'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-28 02:25:43.556 +00:00 [WRN] No store type was specified for the decimal property 'TransactionLimit' on entity type 'VisaCard'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-01-28 02:25:45.589 +00:00 [INF] Executed DbCommand (104ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 02:25:45.717 +00:00 [ERR] An exception occurred while iterating over the results of a query for context type 'atmapp.Data.TransactionDbContext'.
System.InvalidCastException: Unable to cast object of type 'System.Double' to type 'System.Decimal'.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Decimal()
   at Microsoft.Data.SqlClient.SqlDataReader.GetDecimal(Int32 i)
   at lambda_method24(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
System.InvalidCastException: Unable to cast object of type 'System.Double' to type 'System.Decimal'.
   at Microsoft.Data.SqlClient.SqlBuffer.get_Decimal()
   at Microsoft.Data.SqlClient.SqlDataReader.GetDecimal(Int32 i)
   at lambda_method24(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2025-01-28 02:36:39.139 +00:00 [INF] Now listening on: http://localhost:5037
2025-01-28 02:36:39.222 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-28 02:36:39.224 +00:00 [INF] Hosting environment: Development
2025-01-28 02:36:39.225 +00:00 [INF] Content root path: C:\Users\daniy\source\repos\atmapp
2025-01-28 02:36:39.776 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.html - null null
2025-01-28 02:36:39.962 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.html - 200 null text/html;charset=utf-8 192.174ms
2025-01-28 02:36:40.012 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_vs/browserLink - null null
2025-01-28 02:36:40.015 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - null null
2025-01-28 02:36:40.015 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.js - null null
2025-01-28 02:36:40.031 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 20.5611ms
2025-01-28 02:36:40.056 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.js - 200 null application/javascript;charset=utf-8 48.446ms
2025-01-28 02:36:40.087 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_vs/browserLink - 200 null text/javascript; charset=UTF-8 76.8302ms
2025-01-28 02:36:40.186 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - null null
2025-01-28 02:36:40.197 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.4951ms
2025-01-28 02:36:58.775 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 140
2025-01-28 02:36:58.800 +00:00 [WRN] Failed to determine the https port for redirect.
2025-01-28 02:36:58.813 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 02:36:58.869 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 02:36:59.353 +00:00 [INF] Processing withdrawal transaction 123456 for CardNumber: 4111********4444
2025-01-28 02:37:02.262 +00:00 [INF] Executed DbCommand (104ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 02:37:02.650 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@p1='?' (Size = 450), @p0='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [VisaCards] SET [Balance] = @p0
OUTPUT 1
WHERE [CardNumber] = @p1;
2025-01-28 02:37:02.677 +00:00 [INF] Transaction 123456 successful. Remaining balance: 3850
2025-01-28 02:37:02.703 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 02:37:02.735 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 3851.3483ms
2025-01-28 02:37:02.742 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 02:37:02.764 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 200 null application/json; charset=utf-8 3989.2554ms
2025-01-28 16:35:57.048 +00:00 [INF] Now listening on: http://localhost:5037
2025-01-28 16:35:57.138 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-28 16:35:57.140 +00:00 [INF] Hosting environment: Development
2025-01-28 16:35:57.142 +00:00 [INF] Content root path: C:\Users\daniy\source\repos\atmapp
2025-01-28 16:35:57.857 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.html - null null
2025-01-28 16:35:58.099 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.html - 200 null text/html;charset=utf-8 248.8019ms
2025-01-28 16:35:58.150 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.js - null null
2025-01-28 16:35:58.153 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - null null
2025-01-28 16:35:58.153 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_vs/browserLink - null null
2025-01-28 16:35:58.157 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.js - 200 null application/javascript;charset=utf-8 7.8244ms
2025-01-28 16:35:58.162 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 9.2569ms
2025-01-28 16:35:58.213 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_vs/browserLink - 200 null text/javascript; charset=UTF-8 59.5568ms
2025-01-28 16:35:58.372 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - null null
2025-01-28 16:35:58.386 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 13.5108ms
2025-01-28 16:46:26.467 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/authenticate - application/json 56
2025-01-28 16:46:26.490 +00:00 [WRN] Failed to determine the https port for redirect.
2025-01-28 16:46:26.502 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.Authenticate (atmapp)'
2025-01-28 16:46:26.570 +00:00 [INF] Route matched with {action = "Authenticate", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(atmapp.Models.CardAuthRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 16:46:27.129 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-01-28 16:46:27.200 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.Authenticate (atmapp) in 614.3812ms
2025-01-28 16:46:27.206 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.Authenticate (atmapp)'
2025-01-28 16:46:27.211 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/authenticate - 400 null application/problem+json; charset=utf-8 743.9328ms
2025-01-28 16:50:07.111 +00:00 [INF] Now listening on: http://localhost:5037
2025-01-28 16:50:07.194 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-28 16:50:07.197 +00:00 [INF] Hosting environment: Development
2025-01-28 16:50:07.199 +00:00 [INF] Content root path: C:\Users\daniy\source\repos\atmapp
2025-01-28 16:50:07.632 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.html - null null
2025-01-28 16:50:07.829 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.html - 200 null text/html;charset=utf-8 211.7996ms
2025-01-28 16:50:07.865 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - null null
2025-01-28 16:50:07.866 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.js - null null
2025-01-28 16:50:07.866 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_vs/browserLink - null null
2025-01-28 16:50:07.872 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 7.5626ms
2025-01-28 16:50:07.875 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.js - 200 null application/javascript;charset=utf-8 8.953ms
2025-01-28 16:50:07.903 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.0725ms
2025-01-28 16:50:07.998 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - null null
2025-01-28 16:50:08.009 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.7365ms
2025-01-28 16:50:52.888 +00:00 [INF] Now listening on: http://localhost:5037
2025-01-28 16:50:52.966 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-28 16:50:52.968 +00:00 [INF] Hosting environment: Development
2025-01-28 16:50:52.969 +00:00 [INF] Content root path: C:\Users\daniy\source\repos\atmapp
2025-01-28 16:50:53.662 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.html - null null
2025-01-28 16:50:53.842 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.html - 200 null text/html;charset=utf-8 193.8196ms
2025-01-28 16:50:53.883 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - null null
2025-01-28 16:50:53.884 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_vs/browserLink - null null
2025-01-28 16:50:53.884 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.js - null null
2025-01-28 16:50:53.889 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 7.5889ms
2025-01-28 16:50:53.901 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.js - 200 null application/javascript;charset=utf-8 17.5122ms
2025-01-28 16:50:53.927 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.1404ms
2025-01-28 16:50:54.020 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - null null
2025-01-28 16:50:54.029 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.6645ms
2025-01-28 16:51:10.094 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/authenticate - application/json 56
2025-01-28 16:51:10.116 +00:00 [WRN] Failed to determine the https port for redirect.
2025-01-28 16:51:10.126 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.Authenticate (atmapp)'
2025-01-28 16:51:10.205 +00:00 [INF] Route matched with {action = "Authenticate", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(atmapp.Models.CardAuthRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 16:51:10.833 +00:00 [WRN] Unsupported card type for CardNumber: 1234********3456
2025-01-28 16:51:10.853 +00:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 16:51:10.880 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.Authenticate (atmapp) in 658.9317ms
2025-01-28 16:51:10.887 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.Authenticate (atmapp)'
2025-01-28 16:51:10.895 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/authenticate - 400 null application/json; charset=utf-8 800.8735ms
2025-01-28 18:11:37.282 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/authenticate - application/json 56
2025-01-28 18:11:37.320 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.Authenticate (atmapp)'
2025-01-28 18:11:37.336 +00:00 [INF] Route matched with {action = "Authenticate", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(atmapp.Models.CardAuthRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 18:11:37.430 +00:00 [INF] Authentication attempt for Visa CardNumber: 4111********4444
2025-01-28 18:11:40.961 +00:00 [INF] Executed DbCommand (143ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 18:16:48.239 +00:00 [INF] Now listening on: http://localhost:5037
2025-01-28 18:16:48.340 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-28 18:16:48.343 +00:00 [INF] Hosting environment: Development
2025-01-28 18:16:48.344 +00:00 [INF] Content root path: C:\Users\daniy\source\repos\atmapp
2025-01-28 18:16:48.991 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.html - null null
2025-01-28 18:16:49.213 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.html - 200 null text/html;charset=utf-8 231.5492ms
2025-01-28 18:16:49.250 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.js - null null
2025-01-28 18:16:49.250 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - null null
2025-01-28 18:16:49.258 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.js - 200 null application/javascript;charset=utf-8 8.9783ms
2025-01-28 18:16:49.260 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 10.4961ms
2025-01-28 18:16:49.272 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_vs/browserLink - null null
2025-01-28 18:16:49.307 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.3562ms
2025-01-28 18:16:49.416 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - null null
2025-01-28 18:16:49.429 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.296ms
2025-01-28 18:17:38.867 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/authenticate - application/json 55
2025-01-28 18:17:38.892 +00:00 [WRN] Failed to determine the https port for redirect.
2025-01-28 18:17:38.906 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.Authenticate (atmapp)'
2025-01-28 18:17:38.974 +00:00 [INF] Route matched with {action = "Authenticate", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(atmapp.Models.CardAuthRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 18:17:39.472 +00:00 [INF] Authentication attempt for MasterCard CardNumber: 5432********3210
2025-01-28 18:17:42.314 +00:00 [INF] Executed DbCommand (101ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[CardNumber], [m].[Balance], [m].[CardHolderName], [m].[DailyLimit], [m].[DailyWithdrawn], [m].[ExpirationDate], [m].[FailedAttempts], [m].[HashedPIN], [m].[LockoutUntil], [m].[TransactionLimit]
FROM [MasterCards] AS [m]
WHERE [m].[CardNumber] = @__request_CardNumber_0
2025-01-28 18:19:54.457 +00:00 [INF] Now listening on: http://localhost:5037
2025-01-28 18:19:54.544 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-28 18:19:54.545 +00:00 [INF] Hosting environment: Development
2025-01-28 18:19:54.547 +00:00 [INF] Content root path: C:\Users\daniy\source\repos\atmapp
2025-01-28 18:19:55.090 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.html - null null
2025-01-28 18:19:55.288 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.html - 200 null text/html;charset=utf-8 212.3151ms
2025-01-28 18:19:55.327 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.js - null null
2025-01-28 18:19:55.330 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_vs/browserLink - null null
2025-01-28 18:19:55.327 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - null null
2025-01-28 18:19:55.336 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.js - 200 null application/javascript;charset=utf-8 12.661ms
2025-01-28 18:19:55.352 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 28.9097ms
2025-01-28 18:19:55.377 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.3559ms
2025-01-28 18:19:55.480 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - null null
2025-01-28 18:19:55.488 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.7989ms
2025-01-28 18:21:07.252 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/authenticate - application/json 55
2025-01-28 18:21:07.276 +00:00 [WRN] Failed to determine the https port for redirect.
2025-01-28 18:21:07.287 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.Authenticate (atmapp)'
2025-01-28 18:21:07.346 +00:00 [INF] Route matched with {action = "Authenticate", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(atmapp.Models.CardAuthRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 18:21:07.793 +00:00 [WRN] Unsupported card type for CardNumber: 1234********3456
2025-01-28 18:21:07.811 +00:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 18:21:07.844 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.Authenticate (atmapp) in 481.4397ms
2025-01-28 18:21:07.852 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.Authenticate (atmapp)'
2025-01-28 18:21:07.861 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/authenticate - 400 null application/json; charset=utf-8 609.5696ms
2025-01-28 18:21:45.044 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/authenticate - application/json 55
2025-01-28 18:21:45.066 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.Authenticate (atmapp)'
2025-01-28 18:21:45.070 +00:00 [INF] Route matched with {action = "Authenticate", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(atmapp.Models.CardAuthRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 18:21:45.095 +00:00 [INF] Authentication attempt for Visa CardNumber: 4111********4444
2025-01-28 18:21:47.835 +00:00 [INF] Executed DbCommand (92ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 18:21:48.015 +00:00 [INF] Stored Hashed PIN: $2a$2a$12$R6ZAPp9zS64QgOrFY3OzsOw3HX35ZNmy.sY8PFVTXYD5dyecyhtAy
2025-01-28 18:32:43.191 +00:00 [INF] Now listening on: http://localhost:5037
2025-01-28 18:32:43.271 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-28 18:32:43.272 +00:00 [INF] Hosting environment: Development
2025-01-28 18:32:43.274 +00:00 [INF] Content root path: C:\Users\daniy\source\repos\atmapp
2025-01-28 18:32:43.914 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.html - null null
2025-01-28 18:32:44.141 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.html - 200 null text/html;charset=utf-8 236.3802ms
2025-01-28 18:32:44.180 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - null null
2025-01-28 18:32:44.180 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_vs/browserLink - null null
2025-01-28 18:32:44.180 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.js - null null
2025-01-28 18:32:44.186 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 7.6385ms
2025-01-28 18:32:44.196 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.js - 200 null application/javascript;charset=utf-8 16.7777ms
2025-01-28 18:32:44.216 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_vs/browserLink - 200 null text/javascript; charset=UTF-8 36.3479ms
2025-01-28 18:32:44.316 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - null null
2025-01-28 18:32:44.326 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.2489ms
2025-01-28 18:33:42.134 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/authenticate - application/json 55
2025-01-28 18:33:42.157 +00:00 [WRN] Failed to determine the https port for redirect.
2025-01-28 18:33:42.166 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.Authenticate (atmapp)'
2025-01-28 18:33:42.228 +00:00 [INF] Route matched with {action = "Authenticate", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(atmapp.Models.CardAuthRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 18:33:42.751 +00:00 [INF] Authentication attempt for Visa CardNumber: 4111********4444
2025-01-28 18:33:45.522 +00:00 [INF] Executed DbCommand (81ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 18:33:45.697 +00:00 [INF] Stored Hashed PIN: $2a$12$oalGv4Nl1V9RD8IJGdjHwObhQUICLQeqVg955SUaWPE3EcZy0974a
2025-01-28 18:33:47.162 +00:00 [INF] Authentication successful for CardNumber: 4111********4444
2025-01-28 18:33:47.182 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 18:33:47.212 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.Authenticate (atmapp) in 4969.0036ms
2025-01-28 18:33:47.219 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.Authenticate (atmapp)'
2025-01-28 18:33:47.240 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/authenticate - 200 null application/json; charset=utf-8 5106.6329ms
2025-01-28 18:35:03.974 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/authenticate - application/json 55
2025-01-28 18:35:04.000 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.Authenticate (atmapp)'
2025-01-28 18:35:04.005 +00:00 [INF] Route matched with {action = "Authenticate", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(atmapp.Models.CardAuthRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 18:35:04.032 +00:00 [INF] Authentication attempt for Visa CardNumber: 4111********4444
2025-01-28 18:35:08.161 +00:00 [INF] Executed DbCommand (4,054ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 18:35:08.168 +00:00 [WRN] Card not found for CardNumber: 4111********4444
2025-01-28 18:35:08.172 +00:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 18:35:08.177 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.Authenticate (atmapp) in 4165.6825ms
2025-01-28 18:35:08.180 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.Authenticate (atmapp)'
2025-01-28 18:35:08.184 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/authenticate - 404 null application/json; charset=utf-8 4210.2344ms
2025-01-28 18:35:30.363 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/authenticate - application/json 55
2025-01-28 18:35:30.383 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.Authenticate (atmapp)'
2025-01-28 18:35:30.387 +00:00 [INF] Route matched with {action = "Authenticate", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(atmapp.Models.CardAuthRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 18:35:30.401 +00:00 [INF] Authentication attempt for Visa CardNumber: 4111********4444
2025-01-28 18:35:30.570 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 18:35:30.579 +00:00 [INF] Stored Hashed PIN: $2a$12$oalGv4Nl1V9RD8IJGdjHwObhQUICLQeqVg955SUaWPE3EcZy0974a
2025-01-28 18:35:31.501 +00:00 [WRN] Invalid PIN for CardNumber: 4111********4444
2025-01-28 18:35:31.509 +00:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 18:35:31.512 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.Authenticate (atmapp) in 1120.3444ms
2025-01-28 18:35:31.530 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.Authenticate (atmapp)'
2025-01-28 18:35:31.533 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/authenticate - 401 null application/json; charset=utf-8 1169.8926ms
2025-01-28 18:35:39.199 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/authenticate - application/json 56
2025-01-28 18:35:39.204 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.Authenticate (atmapp)'
2025-01-28 18:35:39.207 +00:00 [INF] Route matched with {action = "Authenticate", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(atmapp.Models.CardAuthRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 18:35:39.218 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-01-28 18:35:39.279 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.Authenticate (atmapp) in 68.0763ms
2025-01-28 18:35:39.282 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.Authenticate (atmapp)'
2025-01-28 18:35:39.284 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/authenticate - 400 null application/problem+json; charset=utf-8 85.0812ms
2025-01-28 18:39:40.311 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 141
2025-01-28 18:39:40.364 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 18:39:40.372 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 18:39:40.409 +00:00 [INF] Processing withdrawal transaction TXN001 for CardNumber: 1234********3456
2025-01-28 18:39:40.415 +00:00 [WRN] Unsupported card type for CardNumber: 1234********3456
2025-01-28 18:39:40.418 +00:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 18:39:40.421 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 45.4732ms
2025-01-28 18:39:40.437 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 18:39:40.440 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 400 null application/json; charset=utf-8 129.6477ms
2025-01-28 18:40:22.136 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 141
2025-01-28 18:40:22.156 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 18:40:22.159 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 18:40:22.165 +00:00 [INF] Processing withdrawal transaction TXN001 for CardNumber: 4111********4444
2025-01-28 18:40:22.191 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 18:40:22.378 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='?' (Size = 450), @p0='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [VisaCards] SET [Balance] = @p0
OUTPUT 1
WHERE [CardNumber] = @p1;
2025-01-28 18:40:22.400 +00:00 [INF] Transaction TXN001 successful. Remaining balance: 3350
2025-01-28 18:40:22.404 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 18:40:22.419 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 255.3074ms
2025-01-28 18:40:22.423 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 18:40:22.426 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 200 null application/json; charset=utf-8 291.2303ms
2025-01-28 18:40:54.404 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 141
2025-01-28 18:40:54.425 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 18:40:54.429 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 18:40:54.435 +00:00 [INF] Processing withdrawal transaction TXN001 for CardNumber: 4111********4444
2025-01-28 18:40:54.455 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 18:40:54.470 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (Size = 450), @p0='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [VisaCards] SET [Balance] = @p0
OUTPUT 1
WHERE [CardNumber] = @p1;
2025-01-28 18:40:54.476 +00:00 [INF] Transaction TXN001 successful. Remaining balance: 2849
2025-01-28 18:40:54.479 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 18:40:54.483 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 49.6315ms
2025-01-28 18:40:54.486 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 18:40:54.490 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 200 null application/json; charset=utf-8 86.0336ms
2025-01-28 18:42:27.077 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 142
2025-01-28 18:42:27.093 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 18:42:27.096 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 18:42:27.103 +00:00 [INF] Processing withdrawal transaction TXN001 for CardNumber: 4111********4444
2025-01-28 18:42:27.113 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 18:42:27.127 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (Size = 450), @p0='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [VisaCards] SET [Balance] = @p0
OUTPUT 1
WHERE [CardNumber] = @p1;
2025-01-28 18:42:27.134 +00:00 [INF] Transaction TXN001 successful. Remaining balance: 2999
2025-01-28 18:42:27.137 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 18:42:27.141 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 39.5255ms
2025-01-28 18:42:27.145 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 18:42:27.148 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 200 null application/json; charset=utf-8 71.6918ms
2025-01-28 18:42:36.691 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 142
2025-01-28 18:42:36.700 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 18:42:36.703 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 18:42:36.710 +00:00 [INF] Processing withdrawal transaction TXN001 for CardNumber: 4111********4444
2025-01-28 18:42:36.716 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 18:42:36.724 +00:00 [WRN] Insufficient balance for CardNumber: 4111********4444
2025-01-28 18:42:36.726 +00:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 18:42:36.729 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 21.1168ms
2025-01-28 18:42:36.732 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 18:42:36.734 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 400 null application/json; charset=utf-8 43.4357ms
2025-01-28 18:42:57.562 +00:00 [INF] Now listening on: http://localhost:5037
2025-01-28 18:42:57.638 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-28 18:42:57.640 +00:00 [INF] Hosting environment: Development
2025-01-28 18:42:57.642 +00:00 [INF] Content root path: C:\Users\daniy\source\repos\atmapp
2025-01-28 18:42:58.265 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.html - null null
2025-01-28 18:42:58.463 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.html - 200 null text/html;charset=utf-8 205.8714ms
2025-01-28 18:42:58.501 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.js - null null
2025-01-28 18:42:58.503 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - null null
2025-01-28 18:42:58.505 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_vs/browserLink - null null
2025-01-28 18:42:58.510 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.js - 200 null application/javascript;charset=utf-8 9.2115ms
2025-01-28 18:42:58.513 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 10.1824ms
2025-01-28 18:42:58.545 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.04ms
2025-01-28 18:42:58.754 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - null null
2025-01-28 18:42:58.766 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.3181ms
2025-01-28 18:47:58.445 +00:00 [INF] Now listening on: http://localhost:5037
2025-01-28 18:47:58.539 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-28 18:47:58.540 +00:00 [INF] Hosting environment: Development
2025-01-28 18:47:58.542 +00:00 [INF] Content root path: C:\Users\daniy\source\repos\atmapp
2025-01-28 18:47:58.819 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.html - null null
2025-01-28 18:47:59.014 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.html - 200 null text/html;charset=utf-8 203.9319ms
2025-01-28 18:47:59.047 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - null null
2025-01-28 18:47:59.047 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.js - null null
2025-01-28 18:47:59.048 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_vs/browserLink - null null
2025-01-28 18:47:59.054 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 8.277ms
2025-01-28 18:47:59.057 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.js - 200 null application/javascript;charset=utf-8 9.8683ms
2025-01-28 18:47:59.090 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_vs/browserLink - 200 null text/javascript; charset=UTF-8 41.7792ms
2025-01-28 18:47:59.255 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - null null
2025-01-28 18:47:59.264 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.7014ms
2025-01-28 18:49:36.314 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 141
2025-01-28 18:49:36.345 +00:00 [WRN] Failed to determine the https port for redirect.
2025-01-28 18:49:36.357 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 18:49:36.430 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 18:49:36.938 +00:00 [INF] Processing withdrawal transaction TXN001 for CardNumber: 4111********4444
2025-01-28 18:49:39.776 +00:00 [INF] Executed DbCommand (110ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 18:49:40.148 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@p1='?' (Size = 450), @p0='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [VisaCards] SET [Balance] = @p0
OUTPUT 1
WHERE [CardNumber] = @p1;
2025-01-28 18:49:40.172 +00:00 [INF] Transaction TXN001 successful. Remaining balance: 7500
2025-01-28 18:49:40.189 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 18:49:40.222 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 3777.0211ms
2025-01-28 18:49:40.228 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 18:49:40.248 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 200 null application/json; charset=utf-8 3934.8104ms
2025-01-28 18:50:06.856 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 143
2025-01-28 18:50:06.868 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 18:50:06.872 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 18:50:06.910 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-01-28 18:50:06.966 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 88.1572ms
2025-01-28 18:50:06.969 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 18:50:06.973 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 400 null application/problem+json; charset=utf-8 120.339ms
2025-01-28 18:50:26.383 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 142
2025-01-28 18:50:26.391 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 18:50:26.395 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 18:50:26.412 +00:00 [INF] Processing withdrawal transaction TXN001 for CardNumber: 4111********4444
2025-01-28 18:50:26.495 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 18:50:26.511 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (Size = 450), @p0='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [VisaCards] SET [Balance] = @p0
OUTPUT 1
WHERE [CardNumber] = @p1;
2025-01-28 18:50:26.519 +00:00 [INF] Transaction TXN001 successful. Remaining balance: 2499
2025-01-28 18:50:26.525 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 18:50:26.530 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 129.1927ms
2025-01-28 18:50:26.535 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 18:50:26.539 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 200 null application/json; charset=utf-8 156.0179ms
2025-01-28 18:50:54.189 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 142
2025-01-28 18:50:54.231 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 18:50:54.235 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 18:50:54.244 +00:00 [INF] Processing withdrawal transaction TXN001 for CardNumber: 4111********4444
2025-01-28 18:50:54.449 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 18:50:54.455 +00:00 [WRN] Insufficient balance for CardNumber: 4111********4444
2025-01-28 18:50:54.458 +00:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 18:50:54.468 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 226.0438ms
2025-01-28 18:50:54.470 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 18:50:54.473 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 400 null application/json; charset=utf-8 284.4525ms
2025-01-28 19:30:58.878 +00:00 [INF] Now listening on: http://localhost:5037
2025-01-28 19:30:58.947 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-28 19:30:58.950 +00:00 [INF] Hosting environment: Development
2025-01-28 19:30:58.952 +00:00 [INF] Content root path: C:\Users\daniy\source\repos\atmapp
2025-01-28 19:30:59.358 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.html - null null
2025-01-28 19:30:59.548 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.html - 200 null text/html;charset=utf-8 198.8954ms
2025-01-28 19:30:59.586 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_vs/browserLink - null null
2025-01-28 19:30:59.586 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - null null
2025-01-28 19:30:59.589 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.js - null null
2025-01-28 19:30:59.607 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 25.8979ms
2025-01-28 19:30:59.610 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.js - 200 null application/javascript;charset=utf-8 30.2476ms
2025-01-28 19:30:59.630 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.9267ms
2025-01-28 19:30:59.728 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - null null
2025-01-28 19:30:59.739 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.974ms
2025-01-28 19:31:29.053 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 141
2025-01-28 19:31:29.077 +00:00 [WRN] Failed to determine the https port for redirect.
2025-01-28 19:31:29.089 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 19:31:29.150 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 19:31:29.652 +00:00 [INF] Processing withdrawal transaction TXN001 for CardNumber: 4111********4444
2025-01-28 19:31:32.543 +00:00 [INF] Executed DbCommand (113ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 19:31:32.918 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@p1='?' (Size = 450), @p0='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [VisaCards] SET [Balance] = @p0
OUTPUT 1
WHERE [CardNumber] = @p1;
2025-01-28 19:31:32.946 +00:00 [INF] Transaction TXN001 successful. Remaining balance: 1999
2025-01-28 19:31:32.967 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 19:31:32.999 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 3832.9237ms
2025-01-28 19:31:33.004 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 19:31:33.020 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 200 null application/json; charset=utf-8 3967.115ms
2025-01-28 20:38:05.503 +00:00 [INF] Now listening on: http://localhost:5037
2025-01-28 20:38:05.590 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-28 20:38:05.593 +00:00 [INF] Hosting environment: Development
2025-01-28 20:38:05.594 +00:00 [INF] Content root path: C:\Users\daniy\source\repos\atmapp
2025-01-28 20:38:06.349 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.html - null null
2025-01-28 20:38:06.541 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.html - 200 null text/html;charset=utf-8 202.3741ms
2025-01-28 20:38:06.599 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.js - null null
2025-01-28 20:38:06.599 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_vs/browserLink - null null
2025-01-28 20:38:06.599 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - null null
2025-01-28 20:38:06.608 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.js - 200 null application/javascript;charset=utf-8 12.5586ms
2025-01-28 20:38:06.619 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 24.6671ms
2025-01-28 20:38:06.653 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_vs/browserLink - 200 null text/javascript; charset=UTF-8 56.7028ms
2025-01-28 20:38:06.762 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - null null
2025-01-28 20:38:06.774 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.8886ms
2025-01-28 20:38:35.832 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 141
2025-01-28 20:38:35.851 +00:00 [WRN] Failed to determine the https port for redirect.
2025-01-28 20:38:35.865 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 20:38:35.946 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 20:38:36.616 +00:00 [INF] Processing withdrawal transaction TXN001 for CardNumber: 4111********4444
2025-01-28 20:38:39.861 +00:00 [INF] Executed DbCommand (139ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 20:38:40.429 +00:00 [INF] Executed DbCommand (30ms) [Parameters=[@p0='?' (DbType = Double), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p7='?' (Size = 450), @p5='?' (DbType = Double), @p6='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Transactions] ([Amount], [CardNumber], [Status], [Timestamp], [TransactionType])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
UPDATE [VisaCards] SET [Balance] = @p5, [DailyWithdrawn] = @p6
OUTPUT 1
WHERE [CardNumber] = @p7;
2025-01-28 20:38:40.499 +00:00 [INF] Transaction TXN001 successful. Remaining balance: 1499
2025-01-28 20:38:40.528 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 20:38:40.567 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 4604.5903ms
2025-01-28 20:38:40.574 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 20:38:40.595 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 200 null application/json; charset=utf-8 4768.9894ms
2025-01-28 20:40:28.185 +00:00 [INF] Now listening on: http://localhost:5037
2025-01-28 20:40:28.272 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-28 20:40:28.275 +00:00 [INF] Hosting environment: Development
2025-01-28 20:40:28.276 +00:00 [INF] Content root path: C:\Users\daniy\source\repos\atmapp
2025-01-28 20:40:28.938 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.html - null null
2025-01-28 20:40:29.102 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.html - 200 null text/html;charset=utf-8 173.1224ms
2025-01-28 20:40:29.149 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - null null
2025-01-28 20:40:29.149 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.js - null null
2025-01-28 20:40:29.154 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 5.864ms
2025-01-28 20:40:29.161 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_vs/browserLink - null null
2025-01-28 20:40:29.164 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.js - 200 null application/javascript;charset=utf-8 16.0592ms
2025-01-28 20:40:29.195 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.4825ms
2025-01-28 20:40:29.292 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - null null
2025-01-28 20:40:29.301 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.4899ms
2025-01-28 20:43:18.670 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 142
2025-01-28 20:43:18.690 +00:00 [WRN] Failed to determine the https port for redirect.
2025-01-28 20:43:18.702 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 20:43:18.775 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 20:43:19.341 +00:00 [INF] Processing withdrawal transaction TXN001 for CardNumber: 4111********4444
2025-01-28 20:43:22.353 +00:00 [INF] Executed DbCommand (102ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 20:43:22.568 +00:00 [WRN] Transaction exceeds per transaction limit for CardNumber: 4111********4444
2025-01-28 20:43:22.591 +00:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 20:43:22.618 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 3827.266ms
2025-01-28 20:43:22.622 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 20:43:22.643 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 400 null application/json; charset=utf-8 3973.5725ms
2025-01-28 20:49:07.334 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 142
2025-01-28 20:49:07.344 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 20:49:07.346 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 20:49:07.355 +00:00 [INF] Processing withdrawal transaction TXN001 for CardNumber: 4111********4444
2025-01-28 20:49:07.448 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 20:49:07.457 +00:00 [WRN] Transaction exceeds per transaction limit for CardNumber: 4111********4444
2025-01-28 20:49:07.462 +00:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 20:49:07.466 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 115.3699ms
2025-01-28 20:49:07.469 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 20:49:07.473 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 400 null application/json; charset=utf-8 139.2045ms
2025-01-28 21:02:36.983 +00:00 [INF] Now listening on: http://localhost:5037
2025-01-28 21:02:37.141 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-28 21:02:37.144 +00:00 [INF] Hosting environment: Development
2025-01-28 21:02:37.154 +00:00 [INF] Content root path: C:\Users\daniy\source\repos\atmapp
2025-01-28 21:02:37.871 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.html - null null
2025-01-28 21:02:38.223 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.html - 200 null text/html;charset=utf-8 363.0646ms
2025-01-28 21:02:38.288 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - null null
2025-01-28 21:02:38.289 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.js - null null
2025-01-28 21:02:38.289 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_vs/browserLink - null null
2025-01-28 21:02:38.298 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 10.9564ms
2025-01-28 21:02:38.300 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.js - 200 null application/javascript;charset=utf-8 13.5534ms
2025-01-28 21:02:38.369 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_vs/browserLink - 200 null text/javascript; charset=UTF-8 81.137ms
2025-01-28 21:02:38.649 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - null null
2025-01-28 21:02:38.674 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 24.7297ms
2025-01-28 21:03:19.272 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/authenticate - application/json 55
2025-01-28 21:03:19.295 +00:00 [WRN] Failed to determine the https port for redirect.
2025-01-28 21:03:19.309 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.Authenticate (atmapp)'
2025-01-28 21:03:19.384 +00:00 [INF] Route matched with {action = "Authenticate", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(atmapp.Models.CardAuthRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 21:03:19.998 +00:00 [INF] Authentication attempt for Visa CardNumber: 4111********4444
2025-01-28 21:03:23.132 +00:00 [INF] Executed DbCommand (110ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 21:03:24.847 +00:00 [INF] Visa card authentication successful for CardNumber: 4111********4444
2025-01-28 21:03:24.869 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 21:03:24.893 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.Authenticate (atmapp) in 5495.4223ms
2025-01-28 21:03:24.897 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.Authenticate (atmapp)'
2025-01-28 21:03:24.917 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/authenticate - 200 null application/json; charset=utf-8 5645.467ms
2025-01-28 21:03:36.298 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/authenticate - application/json 55
2025-01-28 21:03:36.307 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.Authenticate (atmapp)'
2025-01-28 21:03:36.310 +00:00 [INF] Route matched with {action = "Authenticate", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(atmapp.Models.CardAuthRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 21:03:36.320 +00:00 [INF] Authentication attempt for Visa CardNumber: 4111********4444
2025-01-28 21:03:36.386 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 21:03:36.394 +00:00 [WRN] Card not found for CardNumber: 4111********4444
2025-01-28 21:03:36.398 +00:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 21:03:36.402 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.Authenticate (atmapp) in 87.1529ms
2025-01-28 21:03:36.407 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.Authenticate (atmapp)'
2025-01-28 21:03:36.410 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/authenticate - 404 null application/json; charset=utf-8 112.2149ms
2025-01-28 21:03:47.087 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/authenticate - application/json 55
2025-01-28 21:03:47.095 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.Authenticate (atmapp)'
2025-01-28 21:03:47.098 +00:00 [INF] Route matched with {action = "Authenticate", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(atmapp.Models.CardAuthRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 21:03:47.112 +00:00 [WRN] Unsupported card type for CardNumber: 1111********4444
2025-01-28 21:03:47.115 +00:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 21:03:47.120 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.Authenticate (atmapp) in 16.1625ms
2025-01-28 21:03:47.125 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.Authenticate (atmapp)'
2025-01-28 21:03:47.128 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/authenticate - 400 null application/json; charset=utf-8 41.8351ms
2025-01-28 21:04:05.137 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/authenticate - application/json 54
2025-01-28 21:04:05.144 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.Authenticate (atmapp)'
2025-01-28 21:04:05.146 +00:00 [INF] Route matched with {action = "Authenticate", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(atmapp.Models.CardAuthRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 21:04:05.161 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-01-28 21:04:05.234 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.Authenticate (atmapp) in 81.2604ms
2025-01-28 21:04:05.240 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.Authenticate (atmapp)'
2025-01-28 21:04:05.243 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/authenticate - 400 null application/problem+json; charset=utf-8 106.4729ms
2025-01-28 21:04:14.640 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/authenticate - application/json 55
2025-01-28 21:04:14.645 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.Authenticate (atmapp)'
2025-01-28 21:04:14.648 +00:00 [INF] Route matched with {action = "Authenticate", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(atmapp.Models.CardAuthRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 21:04:14.653 +00:00 [INF] Authentication attempt for Visa CardNumber: 4111********4444
2025-01-28 21:04:14.839 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 21:04:15.762 +00:00 [INF] Visa card authentication successful for CardNumber: 4111********4444
2025-01-28 21:04:15.765 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 21:04:15.770 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.Authenticate (atmapp) in 1118.0045ms
2025-01-28 21:04:15.774 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.Authenticate (atmapp)'
2025-01-28 21:04:15.777 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/authenticate - 200 null application/json; charset=utf-8 1137.9328ms
2025-01-28 21:04:44.026 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/authenticate - application/json 55
2025-01-28 21:04:44.035 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.Authenticate (atmapp)'
2025-01-28 21:04:44.038 +00:00 [INF] Route matched with {action = "Authenticate", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(atmapp.Models.CardAuthRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 21:04:44.045 +00:00 [INF] Authentication attempt for Visa CardNumber: 4111********4444
2025-01-28 21:04:44.064 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 21:04:45.164 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@p1='?' (Size = 450), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [VisaCards] SET [FailedAttempts] = @p0
OUTPUT 1
WHERE [CardNumber] = @p1;
2025-01-28 21:04:45.191 +00:00 [WRN] Invalid PIN for CardNumber: 4111********4444
2025-01-28 21:04:45.197 +00:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 21:04:45.201 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.Authenticate (atmapp) in 1157.6394ms
2025-01-28 21:04:45.207 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.Authenticate (atmapp)'
2025-01-28 21:04:45.211 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/authenticate - 401 null application/json; charset=utf-8 1184.7523ms
2025-01-28 21:04:52.824 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/authenticate - application/json 56
2025-01-28 21:04:52.829 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.Authenticate (atmapp)'
2025-01-28 21:04:52.832 +00:00 [INF] Route matched with {action = "Authenticate", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(atmapp.Models.CardAuthRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 21:04:52.838 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-01-28 21:04:52.842 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.Authenticate (atmapp) in 5.2463ms
2025-01-28 21:04:52.845 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.Authenticate (atmapp)'
2025-01-28 21:04:52.847 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/authenticate - 400 null application/problem+json; charset=utf-8 23.7514ms
2025-01-28 22:05:04.378 +00:00 [INF] Now listening on: http://localhost:5037
2025-01-28 22:05:04.481 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-28 22:05:04.482 +00:00 [INF] Hosting environment: Development
2025-01-28 22:05:04.484 +00:00 [INF] Content root path: C:\Users\daniy\source\repos\atmapp
2025-01-28 22:05:04.953 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.html - null null
2025-01-28 22:05:05.180 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.html - 200 null text/html;charset=utf-8 235.1954ms
2025-01-28 22:05:05.226 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.js - null null
2025-01-28 22:05:05.227 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - null null
2025-01-28 22:05:05.228 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_vs/browserLink - null null
2025-01-28 22:05:05.233 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.js - 200 null application/javascript;charset=utf-8 8.1468ms
2025-01-28 22:05:05.238 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 10.6963ms
2025-01-28 22:05:05.280 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_vs/browserLink - 200 null text/javascript; charset=UTF-8 51.7695ms
2025-01-28 22:05:05.421 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - null null
2025-01-28 22:05:05.434 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 13.2205ms
2025-01-28 22:32:28.340 +00:00 [INF] Now listening on: http://localhost:5037
2025-01-28 22:32:28.429 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-28 22:32:28.430 +00:00 [INF] Hosting environment: Development
2025-01-28 22:32:28.432 +00:00 [INF] Content root path: C:\Users\daniy\source\repos\atmapp
2025-01-28 22:32:29.073 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.html - null null
2025-01-28 22:32:29.304 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.html - 200 null text/html;charset=utf-8 239.7535ms
2025-01-28 22:32:29.349 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - null null
2025-01-28 22:32:29.350 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.js - null null
2025-01-28 22:32:29.351 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_vs/browserLink - null null
2025-01-28 22:32:29.357 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 8.5645ms
2025-01-28 22:32:29.360 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.js - 200 null application/javascript;charset=utf-8 10.2792ms
2025-01-28 22:32:29.404 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_vs/browserLink - 200 null text/javascript; charset=UTF-8 53.3424ms
2025-01-28 22:32:29.520 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - null null
2025-01-28 22:32:29.532 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.7069ms
2025-01-28 22:33:03.016 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 142
2025-01-28 22:33:03.036 +00:00 [WRN] Failed to determine the https port for redirect.
2025-01-28 22:33:03.049 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 22:33:03.117 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 22:33:03.872 +00:00 [INF] Processing withdrawal transaction TXN001 for CardNumber: 4111********4444
2025-01-28 22:33:03.877 +00:00 [WRN] Invalid ATMId format: ATM123
2025-01-28 22:33:03.890 +00:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 22:33:03.922 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 784.2538ms
2025-01-28 22:33:03.927 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 22:33:03.933 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 400 null application/json; charset=utf-8 917.8166ms
2025-01-28 22:33:21.134 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 137
2025-01-28 22:33:21.147 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 22:33:21.150 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 22:33:21.175 +00:00 [INF] Processing withdrawal transaction TXN001 for CardNumber: 4111********4444
2025-01-28 22:33:24.227 +00:00 [INF] Executed DbCommand (119ms) [Parameters=[@__atmId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ATMId], [a].[FiftyDenomination], [a].[TenDenomination], [a].[TwentyDenomination]
FROM [ATMInventories] AS [a]
WHERE [a].[ATMId] = @__atmId_0
2025-01-28 22:33:24.410 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 22:33:24.884 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p3='?' (DbType = Double), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p9='?' (Size = 450), @p8='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [ATMInventories] SET [FiftyDenomination] = @p0, [TwentyDenomination] = @p1
OUTPUT 1
WHERE [Id] = @p2;
INSERT INTO [Transactions] ([Amount], [CardNumber], [Status], [Timestamp], [TransactionType])
OUTPUT INSERTED.[Id]
VALUES (@p3, @p4, @p5, @p6, @p7);
UPDATE [VisaCards] SET [Balance] = @p8
OUTPUT 1
WHERE [CardNumber] = @p9;
2025-01-28 22:33:24.951 +00:00 [INF] Transaction TXN001 successful. Denominations dispensed: 50s=50, 20s=5, 10s=0
2025-01-28 22:33:24.959 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`3[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], atmapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 22:33:24.973 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 3817.1238ms
2025-01-28 22:33:24.977 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 22:33:24.995 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 200 null application/json; charset=utf-8 3860.3788ms
2025-01-28 22:34:44.739 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 135
2025-01-28 22:34:44.751 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 22:34:44.756 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 22:34:44.772 +00:00 [INF] Processing withdrawal transaction TXN001 for CardNumber: 4111********4444
2025-01-28 22:34:44.861 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__atmId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ATMId], [a].[FiftyDenomination], [a].[TenDenomination], [a].[TwentyDenomination]
FROM [ATMInventories] AS [a]
WHERE [a].[ATMId] = @__atmId_0
2025-01-28 22:34:44.869 +00:00 [WRN] Insufficient denominations in ATM 1 for withdrawal amount: 35
2025-01-28 22:34:44.872 +00:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 22:34:44.875 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 113.2076ms
2025-01-28 22:34:44.878 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 22:34:44.881 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 400 null application/json; charset=utf-8 142.5492ms
2025-01-28 22:38:07.770 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 134
2025-01-28 22:38:07.791 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 22:38:07.794 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 22:38:07.801 +00:00 [INF] Processing withdrawal transaction TXN001 for CardNumber: 4111********4444
2025-01-28 22:38:07.972 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__atmId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ATMId], [a].[FiftyDenomination], [a].[TenDenomination], [a].[TwentyDenomination]
FROM [ATMInventories] AS [a]
WHERE [a].[ATMId] = @__atmId_0
2025-01-28 22:38:07.982 +00:00 [WRN] Insufficient denominations in ATM 1 for withdrawal amount: 4
2025-01-28 22:38:07.987 +00:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 22:38:07.993 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 193.4816ms
2025-01-28 22:38:07.997 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 22:38:08.001 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 400 null application/json; charset=utf-8 231.4864ms
2025-01-28 22:38:53.957 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 137
2025-01-28 22:38:53.981 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 22:38:53.985 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 22:38:54.002 +00:00 [INF] Processing withdrawal transaction TXN001 for CardNumber: 4111********4444
2025-01-28 22:38:54.023 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__atmId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ATMId], [a].[FiftyDenomination], [a].[TenDenomination], [a].[TwentyDenomination]
FROM [ATMInventories] AS [a]
WHERE [a].[ATMId] = @__atmId_0
2025-01-28 22:38:54.031 +00:00 [WRN] Insufficient denominations in ATM 1 for withdrawal amount: 6000
2025-01-28 22:38:54.035 +00:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 22:38:54.039 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 48.1907ms
2025-01-28 22:38:54.042 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 22:38:54.044 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 400 null application/json; charset=utf-8 87.2747ms
2025-01-28 22:39:24.366 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 135
2025-01-28 22:39:24.390 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 22:39:24.394 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 22:39:24.400 +00:00 [INF] Processing withdrawal transaction TXN001 for CardNumber: 4111********4444
2025-01-28 22:39:24.408 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__atmId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ATMId], [a].[FiftyDenomination], [a].[TenDenomination], [a].[TwentyDenomination]
FROM [ATMInventories] AS [a]
WHERE [a].[ATMId] = @__atmId_0
2025-01-28 22:39:24.421 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 22:39:24.449 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p8='?' (Size = 450), @p7='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [ATMInventories] SET [TwentyDenomination] = @p0
OUTPUT 1
WHERE [Id] = @p1;
INSERT INTO [Transactions] ([Amount], [CardNumber], [Status], [Timestamp], [TransactionType])
OUTPUT INSERTED.[Id]
VALUES (@p2, @p3, @p4, @p5, @p6);
UPDATE [VisaCards] SET [Balance] = @p7
OUTPUT 1
WHERE [CardNumber] = @p8;
2025-01-28 22:39:24.459 +00:00 [INF] Transaction TXN001 successful. Denominations dispensed: 50s=0, 20s=2, 10s=0
2025-01-28 22:39:24.466 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`3[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], atmapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 22:39:24.469 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 70.8931ms
2025-01-28 22:39:24.472 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 22:39:24.475 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 200 null application/json; charset=utf-8 109.8721ms
2025-01-28 22:40:20.086 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 136
2025-01-28 22:40:20.106 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 22:40:20.109 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 22:40:20.116 +00:00 [INF] Processing withdrawal transaction TXN001 for CardNumber: 4111********4444
2025-01-28 22:40:20.134 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__atmId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ATMId], [a].[FiftyDenomination], [a].[TenDenomination], [a].[TwentyDenomination]
FROM [ATMInventories] AS [a]
WHERE [a].[ATMId] = @__atmId_0
2025-01-28 22:40:20.150 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 22:40:20.175 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p3='?' (DbType = Double), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p9='?' (Size = 450), @p8='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [ATMInventories] SET [TenDenomination] = @p0, [TwentyDenomination] = @p1
OUTPUT 1
WHERE [Id] = @p2;
INSERT INTO [Transactions] ([Amount], [CardNumber], [Status], [Timestamp], [TransactionType])
OUTPUT INSERTED.[Id]
VALUES (@p3, @p4, @p5, @p6, @p7);
UPDATE [VisaCards] SET [Balance] = @p8
OUTPUT 1
WHERE [CardNumber] = @p9;
2025-01-28 22:40:20.187 +00:00 [INF] Transaction TXN001 successful. Denominations dispensed: 50s=0, 20s=24, 10s=1
2025-01-28 22:40:20.193 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`3[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], atmapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 22:40:20.198 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 83.3108ms
2025-01-28 22:40:20.215 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 22:40:20.225 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 200 null application/json; charset=utf-8 139.2758ms
2025-01-28 22:50:24.166 +00:00 [INF] Now listening on: http://localhost:5037
2025-01-28 22:50:24.249 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-28 22:50:24.250 +00:00 [INF] Hosting environment: Development
2025-01-28 22:50:24.252 +00:00 [INF] Content root path: C:\Users\daniy\source\repos\atmapp
2025-01-28 22:50:24.918 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.html - null null
2025-01-28 22:50:25.137 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.html - 200 null text/html;charset=utf-8 236.019ms
2025-01-28 22:50:25.180 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.js - null null
2025-01-28 22:50:25.180 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_vs/browserLink - null null
2025-01-28 22:50:25.180 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - null null
2025-01-28 22:50:25.186 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.js - 200 null application/javascript;charset=utf-8 6.7381ms
2025-01-28 22:50:25.198 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 19.4188ms
2025-01-28 22:50:25.229 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.6893ms
2025-01-28 22:50:25.329 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - null null
2025-01-28 22:50:25.341 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.7047ms
2025-01-28 22:50:45.060 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 141
2025-01-28 22:50:45.077 +00:00 [WRN] Failed to determine the https port for redirect.
2025-01-28 22:50:45.089 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 22:50:45.155 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 22:50:45.782 +00:00 [INF] Processing withdrawal transaction TXN001 for CardNumber: 4111********4444
2025-01-28 22:50:45.787 +00:00 [WRN] Invalid ATMId format: ATM123
2025-01-28 22:50:45.806 +00:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 22:50:45.832 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 662.345ms
2025-01-28 22:50:45.839 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 22:50:45.846 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 400 null application/json; charset=utf-8 786.3324ms
2025-01-28 22:50:59.043 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 136
2025-01-28 22:50:59.056 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 22:50:59.060 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 22:50:59.086 +00:00 [INF] Processing withdrawal transaction 1 for CardNumber: 4111********4444
2025-01-28 22:50:59.090 +00:00 [WRN] Invalid ATMId format: ATM123
2025-01-28 22:50:59.092 +00:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 22:50:59.097 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 31.32ms
2025-01-28 22:50:59.100 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 22:50:59.102 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 400 null application/json; charset=utf-8 59.338ms
2025-01-28 22:51:29.106 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 136
2025-01-28 22:51:29.134 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 22:51:29.140 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 22:51:29.155 +00:00 [INF] Processing withdrawal transaction TXN001 for CardNumber: 4111********4444
2025-01-28 22:51:32.023 +00:00 [INF] Executed DbCommand (109ms) [Parameters=[@__atmId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ATMId], [a].[FiftyDenomination], [a].[TenDenomination], [a].[TwentyDenomination]
FROM [ATMInventories] AS [a]
WHERE [a].[ATMId] = @__atmId_0
2025-01-28 22:51:32.211 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 22:51:32.630 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p8='?' (Size = 450), @p7='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [ATMInventories] SET [TwentyDenomination] = @p0
OUTPUT 1
WHERE [Id] = @p1;
INSERT INTO [Transactions] ([Amount], [CardNumber], [Status], [Timestamp], [TransactionType])
OUTPUT INSERTED.[Id]
VALUES (@p2, @p3, @p4, @p5, @p6);
UPDATE [VisaCards] SET [Balance] = @p7
OUTPUT 1
WHERE [CardNumber] = @p8;
2025-01-28 22:51:32.690 +00:00 [INF] Transaction TXN001 successful. Denominations dispensed: 50s=0, 20s=25, 10s=0
2025-01-28 22:51:32.698 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`3[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], atmapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 22:51:32.712 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 3565.7964ms
2025-01-28 22:51:32.715 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 22:51:32.732 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 200 null application/json; charset=utf-8 3626.7658ms
2025-01-28 22:51:55.718 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 136
2025-01-28 22:51:55.724 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 22:51:55.728 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 22:51:55.734 +00:00 [INF] Processing withdrawal transaction TXN001 for CardNumber: 4111********4444
2025-01-28 22:51:55.786 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__atmId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ATMId], [a].[FiftyDenomination], [a].[TenDenomination], [a].[TwentyDenomination]
FROM [ATMInventories] AS [a]
WHERE [a].[ATMId] = @__atmId_0
2025-01-28 22:51:55.796 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 22:51:55.813 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p8='?' (Size = 450), @p7='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [ATMInventories] SET [TwentyDenomination] = @p0
OUTPUT 1
WHERE [Id] = @p1;
INSERT INTO [Transactions] ([Amount], [CardNumber], [Status], [Timestamp], [TransactionType])
OUTPUT INSERTED.[Id]
VALUES (@p2, @p3, @p4, @p5, @p6);
UPDATE [VisaCards] SET [Balance] = @p7
OUTPUT 1
WHERE [CardNumber] = @p8;
2025-01-28 22:51:55.827 +00:00 [INF] Transaction TXN001 successful. Denominations dispensed: 50s=0, 20s=30, 10s=0
2025-01-28 22:51:55.834 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`3[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], atmapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 22:51:55.839 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 106.1447ms
2025-01-28 22:51:55.842 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 22:51:55.846 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 200 null application/json; charset=utf-8 127.6944ms
2025-01-28 22:52:12.633 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 136
2025-01-28 22:52:12.642 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 22:52:12.645 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 22:52:12.651 +00:00 [INF] Processing withdrawal transaction TXN001 for CardNumber: 4111********4444
2025-01-28 22:52:12.838 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__atmId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ATMId], [a].[FiftyDenomination], [a].[TenDenomination], [a].[TwentyDenomination]
FROM [ATMInventories] AS [a]
WHERE [a].[ATMId] = @__atmId_0
2025-01-28 22:52:12.851 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 22:52:12.871 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p3='?' (DbType = Double), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p9='?' (Size = 450), @p8='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [ATMInventories] SET [TenDenomination] = @p0, [TwentyDenomination] = @p1
OUTPUT 1
WHERE [Id] = @p2;
INSERT INTO [Transactions] ([Amount], [CardNumber], [Status], [Timestamp], [TransactionType])
OUTPUT INSERTED.[Id]
VALUES (@p3, @p4, @p5, @p6, @p7);
UPDATE [VisaCards] SET [Balance] = @p8
OUTPUT 1
WHERE [CardNumber] = @p9;
2025-01-28 22:52:12.881 +00:00 [INF] Transaction TXN001 successful. Denominations dispensed: 50s=0, 20s=14, 10s=42
2025-01-28 22:52:12.885 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`3[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], atmapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 22:52:12.890 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 240.2834ms
2025-01-28 22:52:12.893 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 22:52:12.897 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 200 null application/json; charset=utf-8 263.9588ms
2025-01-28 23:04:35.421 +00:00 [INF] Now listening on: http://localhost:5037
2025-01-28 23:04:35.503 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-28 23:04:35.505 +00:00 [INF] Hosting environment: Development
2025-01-28 23:04:35.506 +00:00 [INF] Content root path: C:\Users\daniy\source\repos\atmapp
2025-01-28 23:04:36.172 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.html - null null
2025-01-28 23:04:36.367 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.html - 200 null text/html;charset=utf-8 201.2417ms
2025-01-28 23:04:36.407 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.js - null null
2025-01-28 23:04:36.407 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - null null
2025-01-28 23:04:36.409 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_vs/browserLink - null null
2025-01-28 23:04:36.413 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.js - 200 null application/javascript;charset=utf-8 5.9237ms
2025-01-28 23:04:36.415 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 9.1533ms
2025-01-28 23:04:36.447 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.7465ms
2025-01-28 23:04:36.578 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - null null
2025-01-28 23:04:36.588 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.5102ms
2025-01-28 23:11:56.152 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 135
2025-01-28 23:11:56.182 +00:00 [WRN] Failed to determine the https port for redirect.
2025-01-28 23:11:56.203 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 23:11:56.283 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 23:11:56.925 +00:00 [INF] Processing withdrawal transaction TXN001 for CardNumber: 4111********4444
2025-01-28 23:12:00.162 +00:00 [INF] Executed DbCommand (134ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 23:12:00.385 +00:00 [WRN] Transaction exceeds the per-transaction limit for CardNumber: 4111********4444
2025-01-28 23:12:00.415 +00:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 23:12:00.446 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 4149.4952ms
2025-01-28 23:12:00.456 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 23:12:00.483 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 400 null application/json; charset=utf-8 4331.8937ms
2025-01-28 23:12:17.295 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 135
2025-01-28 23:12:17.307 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 23:12:17.311 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 23:12:17.334 +00:00 [INF] Processing withdrawal transaction TXN001 for CardNumber: 4111********4444
2025-01-28 23:12:17.418 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 23:12:17.429 +00:00 [WRN] Transaction exceeds the daily limit for CardNumber: 4111********4444
2025-01-28 23:12:17.433 +00:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 23:12:17.438 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 121.845ms
2025-01-28 23:12:17.441 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 23:12:17.444 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 400 null application/json; charset=utf-8 149.0619ms
2025-01-28 23:12:31.983 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 135
2025-01-28 23:12:31.992 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 23:12:31.996 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 23:12:32.010 +00:00 [INF] Processing withdrawal transaction TXN001 for CardNumber: 4111********4444
2025-01-28 23:12:32.185 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 23:12:32.195 +00:00 [WRN] Transaction exceeds the daily limit for CardNumber: 4111********4444
2025-01-28 23:12:32.199 +00:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 23:12:32.203 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 201.7965ms
2025-01-28 23:12:32.206 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 23:12:32.209 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 400 null application/json; charset=utf-8 226.6092ms
2025-01-28 23:13:09.041 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 134
2025-01-28 23:13:09.059 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 23:13:09.064 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 23:13:09.069 +00:00 [INF] Processing withdrawal transaction TXN001 for CardNumber: 4111********4444
2025-01-28 23:13:09.090 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 23:13:09.099 +00:00 [WRN] Transaction exceeds the daily limit for CardNumber: 4111********4444
2025-01-28 23:13:09.103 +00:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 23:13:09.108 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 39.4798ms
2025-01-28 23:13:09.112 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 23:13:09.115 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 400 null application/json; charset=utf-8 76.1344ms
2025-01-28 23:14:51.679 +00:00 [INF] Now listening on: http://localhost:5037
2025-01-28 23:14:51.831 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-28 23:14:51.832 +00:00 [INF] Hosting environment: Development
2025-01-28 23:14:51.834 +00:00 [INF] Content root path: C:\Users\daniy\source\repos\atmapp
2025-01-28 23:14:52.454 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.html - null null
2025-01-28 23:14:52.629 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.html - 200 null text/html;charset=utf-8 180.9872ms
2025-01-28 23:14:52.896 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - null null
2025-01-28 23:14:52.896 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.js - null null
2025-01-28 23:14:52.902 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 7.3432ms
2025-01-28 23:14:52.903 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_vs/browserLink - null null
2025-01-28 23:14:52.909 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.js - 200 null application/javascript;charset=utf-8 13.4611ms
2025-01-28 23:14:52.946 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.4862ms
2025-01-28 23:14:53.046 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - null null
2025-01-28 23:14:53.056 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.9697ms
2025-01-28 23:15:18.423 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 135
2025-01-28 23:15:18.456 +00:00 [WRN] Failed to determine the https port for redirect.
2025-01-28 23:15:18.471 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 23:15:18.538 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 23:15:19.070 +00:00 [INF] Processing withdrawal transaction TXN001 for CardNumber: 4111********4444
2025-01-28 23:15:21.932 +00:00 [INF] Executed DbCommand (87ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 23:15:22.130 +00:00 [WRN] Transaction exceeds the daily limit for CardNumber: 4111********4444
2025-01-28 23:15:22.149 +00:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 23:15:22.181 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 3621.9793ms
2025-01-28 23:15:22.186 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 23:15:22.206 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 400 null application/json; charset=utf-8 3783.1172ms
2025-01-28 23:16:20.999 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 135
2025-01-28 23:16:21.008 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 23:16:21.013 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 23:16:21.030 +00:00 [INF] Processing withdrawal transaction TXN001 for CardNumber: 4111********4444
2025-01-28 23:16:21.089 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 23:16:21.302 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@p2='?' (Size = 450), @p0='?' (DbType = Double), @p1='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [VisaCards] SET [Balance] = @p0, [DailyWithdrawn] = @p1
OUTPUT 1
WHERE [CardNumber] = @p2;
2025-01-28 23:16:21.329 +00:00 [INF] Transaction TXN001 successful. Remaining balance: 2770
2025-01-28 23:16:21.334 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 23:16:21.351 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 333.1578ms
2025-01-28 23:16:21.356 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 23:16:21.360 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 200 null application/json; charset=utf-8 361.055ms
2025-01-28 23:16:45.766 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 135
2025-01-28 23:16:45.780 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 23:16:45.783 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 23:16:45.798 +00:00 [INF] Processing withdrawal transaction TXN001 for CardNumber: 4111********4444
2025-01-28 23:16:46.017 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 23:16:46.028 +00:00 [WRN] Transaction exceeds the daily limit for CardNumber: 4111********4444
2025-01-28 23:16:46.031 +00:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 23:16:46.036 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 247.9227ms
2025-01-28 23:16:46.063 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 23:16:46.067 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 400 null application/json; charset=utf-8 301.0717ms
2025-01-28 23:17:28.790 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 135
2025-01-28 23:17:28.834 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 23:17:28.837 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 23:17:28.845 +00:00 [INF] Processing withdrawal transaction TXN001 for CardNumber: 4111********4444
2025-01-28 23:17:28.872 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 23:17:28.882 +00:00 [WRN] Transaction exceeds the per-transaction limit for CardNumber: 4111********4444
2025-01-28 23:17:28.888 +00:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 23:17:28.893 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 50.2674ms
2025-01-28 23:17:28.897 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 23:17:28.900 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 400 null application/json; charset=utf-8 110.4292ms
2025-01-28 23:17:39.878 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 134
2025-01-28 23:17:39.907 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 23:17:39.911 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 23:17:39.917 +00:00 [INF] Processing withdrawal transaction TXN001 for CardNumber: 4111********4444
2025-01-28 23:17:39.930 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 23:17:39.946 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (Size = 450), @p0='?' (DbType = Double), @p1='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [VisaCards] SET [Balance] = @p0, [DailyWithdrawn] = @p1
OUTPUT 1
WHERE [CardNumber] = @p2;
2025-01-28 23:17:39.955 +00:00 [INF] Transaction TXN001 successful. Remaining balance: 2719
2025-01-28 23:17:39.959 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 23:17:39.963 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 47.2776ms
2025-01-28 23:17:39.968 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 23:17:39.971 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 200 null application/json; charset=utf-8 93.3918ms
2025-01-28 23:19:14.764 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 134
2025-01-28 23:19:14.775 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 23:19:14.779 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 23:19:14.786 +00:00 [INF] Processing withdrawal transaction TXN001 for CardNumber: 4111********4444
2025-01-28 23:19:14.815 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 23:19:14.830 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@p2='?' (Size = 450), @p0='?' (DbType = Double), @p1='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [VisaCards] SET [Balance] = @p0, [DailyWithdrawn] = @p1
OUTPUT 1
WHERE [CardNumber] = @p2;
2025-01-28 23:19:14.836 +00:00 [INF] Transaction TXN001 successful. Remaining balance: 2668
2025-01-28 23:19:14.839 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 23:19:14.842 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 58.1888ms
2025-01-28 23:19:14.846 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 23:19:14.849 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 200 null application/json; charset=utf-8 108.9067ms
2025-01-28 23:19:21.537 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 134
2025-01-28 23:19:21.547 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 23:19:21.550 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 23:19:21.557 +00:00 [INF] Processing withdrawal transaction TXN001 for CardNumber: 4111********4444
2025-01-28 23:19:21.564 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 23:19:21.572 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (Size = 450), @p0='?' (DbType = Double), @p1='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [VisaCards] SET [Balance] = @p0, [DailyWithdrawn] = @p1
OUTPUT 1
WHERE [CardNumber] = @p2;
2025-01-28 23:19:21.578 +00:00 [INF] Transaction TXN001 successful. Remaining balance: 2617
2025-01-28 23:19:21.581 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 23:19:21.584 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 28.8979ms
2025-01-28 23:19:21.587 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 23:19:21.591 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 200 null application/json; charset=utf-8 53.7657ms
2025-01-28 23:19:24.992 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 134
2025-01-28 23:19:25.001 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 23:19:25.004 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 23:19:25.009 +00:00 [INF] Processing withdrawal transaction TXN001 for CardNumber: 4111********4444
2025-01-28 23:19:25.015 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 23:19:25.022 +00:00 [WRN] Transaction exceeds the daily limit for CardNumber: 4111********4444
2025-01-28 23:19:25.025 +00:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 23:19:25.029 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 21.0491ms
2025-01-28 23:19:25.033 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 23:19:25.035 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 400 null application/json; charset=utf-8 43.3217ms
2025-01-28 23:20:24.853 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 134
2025-01-28 23:20:24.885 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 23:20:24.888 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 23:20:24.894 +00:00 [INF] Processing withdrawal transaction TXN001 for CardNumber: 4111********4444
2025-01-28 23:20:24.906 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 23:20:24.921 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?' (Size = 450), @p0='?' (DbType = Double), @p1='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [VisaCards] SET [Balance] = @p0, [DailyWithdrawn] = @p1
OUTPUT 1
WHERE [CardNumber] = @p2;
2025-01-28 23:20:24.928 +00:00 [INF] Transaction TXN001 successful. Remaining balance: 2577
2025-01-28 23:20:24.932 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 23:20:24.937 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 45.0118ms
2025-01-28 23:20:24.940 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 23:20:24.943 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 200 null application/json; charset=utf-8 89.8767ms
2025-01-28 23:32:00.790 +00:00 [INF] Now listening on: http://localhost:5037
2025-01-28 23:32:00.876 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-01-28 23:32:00.878 +00:00 [INF] Hosting environment: Development
2025-01-28 23:32:00.879 +00:00 [INF] Content root path: C:\Users\daniy\source\repos\atmapp
2025-01-28 23:32:01.145 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.html - null null
2025-01-28 23:32:01.366 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.html - 200 null text/html;charset=utf-8 234.0455ms
2025-01-28 23:32:01.409 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/index.js - null null
2025-01-28 23:32:01.415 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/index.js - 200 null application/javascript;charset=utf-8 7.808ms
2025-01-28 23:32:01.421 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - null null
2025-01-28 23:32:01.422 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/_vs/browserLink - null null
2025-01-28 23:32:01.429 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 8.0536ms
2025-01-28 23:32:01.458 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/_vs/browserLink - 200 null text/javascript; charset=UTF-8 36.4526ms
2025-01-28 23:32:01.563 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - null null
2025-01-28 23:32:01.574 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5037/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.8741ms
2025-01-28 23:32:17.489 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 135
2025-01-28 23:32:17.511 +00:00 [WRN] Failed to determine the https port for redirect.
2025-01-28 23:32:17.524 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 23:32:17.589 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 23:32:18.098 +00:00 [INF] Processing withdrawal transaction TXN001 for CardNumber: 4111********4444
2025-01-28 23:32:21.019 +00:00 [INF] Executed DbCommand (112ms) [Parameters=[@__atmId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ATMId], [a].[FiftyDenomination], [a].[TenDenomination], [a].[TwentyDenomination]
FROM [ATMInventories] AS [a]
WHERE [a].[ATMId] = @__atmId_0
2025-01-28 23:32:21.202 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 23:32:21.298 +00:00 [WRN] Transaction exceeds the per-transaction limit for CardNumber: 4111********4444
2025-01-28 23:32:21.317 +00:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 23:32:21.345 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 3741.0238ms
2025-01-28 23:32:21.352 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 23:32:21.373 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 400 null application/json; charset=utf-8 3884.0584ms
2025-01-28 23:33:50.043 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 135
2025-01-28 23:33:50.057 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 23:33:50.062 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 23:33:50.073 +00:00 [INF] Processing withdrawal transaction TXN001 for CardNumber: 4111********4444
2025-01-28 23:33:50.155 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__atmId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ATMId], [a].[FiftyDenomination], [a].[TenDenomination], [a].[TwentyDenomination]
FROM [ATMInventories] AS [a]
WHERE [a].[ATMId] = @__atmId_0
2025-01-28 23:33:50.166 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 23:33:50.171 +00:00 [WRN] Transaction exceeds the per-transaction limit for CardNumber: 4111********4444
2025-01-28 23:33:50.174 +00:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 23:33:50.178 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 110.7103ms
2025-01-28 23:33:50.181 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 23:33:50.183 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 400 null application/json; charset=utf-8 143.3033ms
2025-01-28 23:34:02.778 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 134
2025-01-28 23:34:02.786 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 23:34:02.789 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 23:34:02.806 +00:00 [INF] Processing withdrawal transaction TXN001 for CardNumber: 4111********4444
2025-01-28 23:34:03.007 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__atmId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ATMId], [a].[FiftyDenomination], [a].[TenDenomination], [a].[TwentyDenomination]
FROM [ATMInventories] AS [a]
WHERE [a].[ATMId] = @__atmId_0
2025-01-28 23:34:03.026 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 23:34:03.422 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p9='?' (Size = 450), @p7='?' (DbType = Double), @p8='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [ATMInventories] SET [TenDenomination] = @p0
OUTPUT 1
WHERE [Id] = @p1;
INSERT INTO [Transactions] ([Amount], [CardNumber], [Status], [Timestamp], [TransactionType])
OUTPUT INSERTED.[Id]
VALUES (@p2, @p3, @p4, @p5, @p6);
UPDATE [VisaCards] SET [Balance] = @p7, [DailyWithdrawn] = @p8
OUTPUT 1
WHERE [CardNumber] = @p9;
2025-01-28 23:34:03.494 +00:00 [INF] Transaction TXN001 successful. Denominations dispensed: 50s=0, 20s=0, 10s=3
2025-01-28 23:34:03.502 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`3[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], atmapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 23:34:03.518 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 722.03ms
2025-01-28 23:34:03.522 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 23:34:03.526 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 200 null application/json; charset=utf-8 747.9347ms
2025-01-28 23:34:55.688 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 134
2025-01-28 23:34:55.709 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 23:34:55.714 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 23:34:55.721 +00:00 [INF] Processing withdrawal transaction TXN001 for CardNumber: 4111********4444
2025-01-28 23:34:55.746 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__atmId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ATMId], [a].[FiftyDenomination], [a].[TenDenomination], [a].[TwentyDenomination]
FROM [ATMInventories] AS [a]
WHERE [a].[ATMId] = @__atmId_0
2025-01-28 23:34:55.753 +00:00 [WRN] Insufficient denominations in ATM 1 for withdrawal amount: 31
2025-01-28 23:34:55.757 +00:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 23:34:55.761 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 41.2332ms
2025-01-28 23:34:55.765 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 23:34:55.767 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 400 null application/json; charset=utf-8 79.1999ms
2025-01-28 23:36:53.461 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/authenticate - application/json 55
2025-01-28 23:36:53.482 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.Authenticate (atmapp)'
2025-01-28 23:36:53.502 +00:00 [INF] Route matched with {action = "Authenticate", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(atmapp.Models.CardAuthRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 23:36:53.543 +00:00 [INF] Authentication attempt for Visa CardNumber: 4111********4444
2025-01-28 23:36:53.566 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 23:36:54.669 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (Size = 450), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [VisaCards] SET [FailedAttempts] = @p0
OUTPUT 1
WHERE [CardNumber] = @p1;
2025-01-28 23:36:54.675 +00:00 [INF] Visa card authentication successful for CardNumber: 4111********4444
2025-01-28 23:36:54.677 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 23:36:54.682 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.Authenticate (atmapp) in 1174.2894ms
2025-01-28 23:36:54.684 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.Authenticate (atmapp)'
2025-01-28 23:36:54.687 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/authenticate - 200 null application/json; charset=utf-8 1225.4827ms
2025-01-28 23:42:33.065 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - application/json 134
2025-01-28 23:42:33.076 +00:00 [INF] Executing endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 23:42:33.078 +00:00 [INF] Route matched with {action = "ProcessTransaction", controller = "atmAPI"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ProcessTransaction(atmapp.Models.TransactionRequest) on controller atmapp.Controllers.atmAPIController (atmapp).
2025-01-28 23:42:33.084 +00:00 [INF] Processing withdrawal transaction TXN001 for CardNumber: 4111********4444
2025-01-28 23:42:33.112 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__atmId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ATMId], [a].[FiftyDenomination], [a].[TenDenomination], [a].[TwentyDenomination]
FROM [ATMInventories] AS [a]
WHERE [a].[ATMId] = @__atmId_0
2025-01-28 23:42:33.128 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_CardNumber_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[CardNumber], [v].[Balance], [v].[CardHolderName], [v].[DailyLimit], [v].[DailyWithdrawn], [v].[ExpirationDate], [v].[FailedAttempts], [v].[HashedPIN], [v].[LockoutUntil], [v].[TransactionLimit]
FROM [VisaCards] AS [v]
WHERE [v].[CardNumber] = @__request_CardNumber_0
2025-01-28 23:42:33.153 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Double), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p9='?' (Size = 450), @p7='?' (DbType = Double), @p8='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [ATMInventories] SET [TenDenomination] = @p0
OUTPUT 1
WHERE [Id] = @p1;
INSERT INTO [Transactions] ([Amount], [CardNumber], [Status], [Timestamp], [TransactionType])
OUTPUT INSERTED.[Id]
VALUES (@p2, @p3, @p4, @p5, @p6);
UPDATE [VisaCards] SET [Balance] = @p7, [DailyWithdrawn] = @p8
OUTPUT 1
WHERE [CardNumber] = @p9;
2025-01-28 23:42:33.164 +00:00 [INF] Transaction TXN001 successful. Denominations dispensed: 50s=0, 20s=0, 10s=3
2025-01-28 23:42:33.169 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`3[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], atmapp, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-01-28 23:42:33.173 +00:00 [INF] Executed action atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp) in 90.3095ms
2025-01-28 23:42:33.176 +00:00 [INF] Executed endpoint 'atmapp.Controllers.atmAPIController.ProcessTransaction (atmapp)'
2025-01-28 23:42:33.178 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5037/api/atmAPI/process-transaction - 200 null application/json; charset=utf-8 113.4994ms
